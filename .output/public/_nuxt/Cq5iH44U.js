import{G as Xt,H as ro,d as Xn,aj as io,ak as oo,c as ao,b as Xe,o as we,h as so,j as rt,y as it,k as Ee,ag as Wt,O as He,al as co,m as uo,e as St,E as lo,P as ho,S as Yt,M as fo,am as _o,an as j,ao as po,ap as Wn,aq as kt,ar as Vt,R as Y,as as te,at as Ro,au as mo,av as Eo,aw as $t,ax as Z,ay as Zt,az as go,aA as yo,aB as wo,aC as Ao,aD as Oo,aE as ge,ae as Pe}from"./COM-xqeJ.js";import{_ as No}from"./BrrurZH0.js";const To={slots:{base:"font-medium inline-flex items-center",label:"truncate",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailingIcon:"shrink-0"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{xs:{base:"text-[8px]/3 px-1 py-0.5 gap-1 rounded-[calc(var(--ui-radius))]",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},sm:{base:"text-[10px]/3 px-1.5 py-1 gap-1 rounded-[calc(var(--ui-radius))]",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},md:{base:"text-xs px-2 py-1 gap-1 rounded-[calc(var(--ui-radius)*1.5)]",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},lg:{base:"text-sm px-2 py-1 gap-1.5 rounded-[calc(var(--ui-radius)*1.5)]",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"text-base px-2.5 py-1 gap-1.5 rounded-[calc(var(--ui-radius)*1.5)]",leadingIcon:"size-6",leadingAvatarSize:"2xs",trailingIcon:"size-6"}}},compoundVariants:[{color:"primary",variant:"solid",class:"bg-(--ui-primary) text-(--ui-bg)"},{color:"secondary",variant:"solid",class:"bg-(--ui-secondary) text-(--ui-bg)"},{color:"success",variant:"solid",class:"bg-(--ui-success) text-(--ui-bg)"},{color:"info",variant:"solid",class:"bg-(--ui-info) text-(--ui-bg)"},{color:"warning",variant:"solid",class:"bg-(--ui-warning) text-(--ui-bg)"},{color:"error",variant:"solid",class:"bg-(--ui-error) text-(--ui-bg)"},{color:"primary",variant:"outline",class:"text-(--ui-primary) ring ring-inset ring-(--ui-primary)/50"},{color:"secondary",variant:"outline",class:"text-(--ui-secondary) ring ring-inset ring-(--ui-secondary)/50"},{color:"success",variant:"outline",class:"text-(--ui-success) ring ring-inset ring-(--ui-success)/50"},{color:"info",variant:"outline",class:"text-(--ui-info) ring ring-inset ring-(--ui-info)/50"},{color:"warning",variant:"outline",class:"text-(--ui-warning) ring ring-inset ring-(--ui-warning)/50"},{color:"error",variant:"outline",class:"text-(--ui-error) ring ring-inset ring-(--ui-error)/50"},{color:"primary",variant:"soft",class:"bg-(--ui-primary)/10 text-(--ui-primary)"},{color:"secondary",variant:"soft",class:"bg-(--ui-secondary)/10 text-(--ui-secondary)"},{color:"success",variant:"soft",class:"bg-(--ui-success)/10 text-(--ui-success)"},{color:"info",variant:"soft",class:"bg-(--ui-info)/10 text-(--ui-info)"},{color:"warning",variant:"soft",class:"bg-(--ui-warning)/10 text-(--ui-warning)"},{color:"error",variant:"soft",class:"bg-(--ui-error)/10 text-(--ui-error)"},{color:"primary",variant:"subtle",class:"bg-(--ui-primary)/10 text-(--ui-primary) ring ring-inset ring-(--ui-primary)/25"},{color:"secondary",variant:"subtle",class:"bg-(--ui-secondary)/10 text-(--ui-secondary) ring ring-inset ring-(--ui-secondary)/25"},{color:"success",variant:"subtle",class:"bg-(--ui-success)/10 text-(--ui-success) ring ring-inset ring-(--ui-success)/25"},{color:"info",variant:"subtle",class:"bg-(--ui-info)/10 text-(--ui-info) ring ring-inset ring-(--ui-info)/25"},{color:"warning",variant:"subtle",class:"bg-(--ui-warning)/10 text-(--ui-warning) ring ring-inset ring-(--ui-warning)/25"},{color:"error",variant:"subtle",class:"bg-(--ui-error)/10 text-(--ui-error) ring ring-inset ring-(--ui-error)/25"},{color:"neutral",variant:"solid",class:"text-(--ui-bg) bg-(--ui-bg-inverted)"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-(--ui-border-accented) text-(--ui-text) bg-(--ui-bg)"},{color:"neutral",variant:"soft",class:"text-(--ui-text) bg-(--ui-bg-elevated)"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-(--ui-border-accented) text-(--ui-text) bg-(--ui-bg-elevated)"}],defaultVariants:{color:"primary",variant:"solid",size:"md"}},vo=ro;var jn;const bo=Xt({extend:Xt(To),...((jn=vo.ui)==null?void 0:jn.badge)||{}}),Dc=Xn({__name:"Badge",props:{as:{default:"span"},label:{},color:{},variant:{},size:{},class:{},ui:{},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},trailingIcon:{}},setup(r){const t=r,{orientation:e,size:n}=io(t),{isLeading:i,isTrailing:o,leadingIconName:s,trailingIconName:a}=oo(t),_=ao(()=>bo({color:t.color,variant:t.variant,size:n.value||t.size,buttonGroup:e.value}));return(l,d)=>{var A;return we(),Xe(Ee(ho),{as:l.as,class:He(_.value.base({class:[t.class,(A=t.ui)==null?void 0:A.base]}))},{default:so(()=>[rt(l.$slots,"leading",{},()=>{var E,p,y;return[Ee(i)&&Ee(s)?(we(),Xe(Wt,{key:0,name:Ee(s),class:He(_.value.leadingIcon({class:(E=t.ui)==null?void 0:E.leadingIcon}))},null,8,["name","class"])):l.avatar?(we(),Xe(co,uo({key:1,size:((p=t.ui)==null?void 0:p.leadingAvatarSize)||_.value.leadingAvatarSize()},l.avatar,{class:_.value.leadingAvatar({class:(y=t.ui)==null?void 0:y.leadingAvatar})}),null,16,["size","class"])):it("",!0)]}),rt(l.$slots,"default",{},()=>{var E;return[l.label?(we(),St("span",{key:0,class:He(_.value.label({class:(E=t.ui)==null?void 0:E.label}))},lo(l.label),3)):it("",!0)]}),rt(l.$slots,"trailing",{},()=>{var E;return[Ee(o)&&Ee(a)?(we(),Xe(Wt,{key:0,name:Ee(a),class:He(_.value.trailingIcon({class:(E=t.ui)==null?void 0:E.trailingIcon}))},null,8,["name","class"])):it("",!0)]})]),_:3},8,["as","class"])}}}),Io={class:"flex space-x-2 items-start w-1/2 mx-auto justify-center md:items-center py-2 border-b border-gray-200"},Co={key:0,class:"flex items-center space-x-3"},Lc=Xn({__name:"AppStateCard",props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},setup(r){return(t,e)=>{const n=No;return we(),St("div",Io,[t.loading?(we(),St("div",Co,[fo(n,{size:2}),e[0]||(e[0]=Yt("span",null,"Loading account",-1))])):it("",!0),Yt("h3",{class:He([t.error?"text-red-500":"text-gray-400","text-sm"])},[rt(t.$slots,"default")],2)])}}}),Pc=r=>{if(!r)return"None";const t=60,e=t*60,n=e*24,i=n*30;if(r>=i){const o=Math.round(r/i);return`${o} month${o!==1?"s":""}`}else if(r>=n){const o=Math.round(r/n);return`${o} day${o!==1?"s":""}`}else if(r>=e){const o=Math.round(r/e);return`${o} hour${o!==1?"s":""}`}else{const o=Math.max(1,Math.round(r/t));return`${o} minute${o!==1?"s":""}`}},Mc=r=>new Date(r).toLocaleString("en-US",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1}),Uc=(r,t=2)=>Intl.NumberFormat("en-us",{style:"decimal",maximumFractionDigits:t}).format(r);var So=(r=>(r.Closed="Closed",r.SoldOut="Sold Out",r.Upcoming="Upcoming",r.Live="Live",r.Ended="Ended",r))(So||{});const Hc=(r,t,e,n,i,o)=>r?{status:"Closed",color:"error"}:t===e?{status:"Sold Out",color:"warning"}:n>i?{status:"Upcoming",color:"warning"}:!o||o>i?{status:"Live",color:"success"}:{status:"Ended",color:"error"};var We={exports:{}},Qt;function ko(){if(Qt)return We.exports;Qt=1;const r=/[\p{Lu}]/u,t=/[\p{Ll}]/u,e=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),s=new RegExp(i.source+n.source,"gu"),a=new RegExp("\\d+"+n.source,"gu"),_=(E,p,y)=>{let O=!1,v=!1,N=!1;for(let M=0;M<E.length;M++){const L=E[M];O&&r.test(L)?(E=E.slice(0,M)+"-"+E.slice(M),O=!1,N=v,v=!0,M++):v&&N&&t.test(L)?(E=E.slice(0,M-1)+"-"+E.slice(M-1),N=v,v=!1,O=!0):(O=p(L)===L&&y(L)!==L,N=v,v=y(L)===L&&p(L)!==L)}return E},l=(E,p)=>(e.lastIndex=0,E.replace(e,y=>p(y))),d=(E,p)=>(s.lastIndex=0,a.lastIndex=0,E.replace(s,(y,O)=>p(O)).replace(a,y=>p(y))),A=(E,p)=>{if(!(typeof E=="string"||Array.isArray(E)))throw new TypeError("Expected the input to be `string | string[]`");if(p={pascalCase:!1,preserveConsecutiveUppercase:!1,...p},Array.isArray(E)?E=E.map(N=>N.trim()).filter(N=>N.length).join("-"):E=E.trim(),E.length===0)return"";const y=p.locale===!1?N=>N.toLowerCase():N=>N.toLocaleLowerCase(p.locale),O=p.locale===!1?N=>N.toUpperCase():N=>N.toLocaleUpperCase(p.locale);return E.length===1?p.pascalCase?O(E):y(E):(E!==y(E)&&(E=_(E,y,O)),E=E.replace(o,""),p.preserveConsecutiveUppercase?E=l(E,y):E=y(E),p.pascalCase&&(E=O(E.charAt(0))+E.slice(1)),d(E,O))};return We.exports=A,We.exports.default=A,We.exports}var xo=ko();const Do=_o(xo);var Me={},C={},Jt;function en(){if(Jt)return C;Jt=1;class r{constructor(c,u){if(!Number.isInteger(c))throw new TypeError("span must be an integer");this.span=c,this.property=u}makeDestinationObject(){return{}}decode(c,u){throw new Error("Layout is abstract")}encode(c,u,h){throw new Error("Layout is abstract")}getSpan(c,u){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(c){const u=Object.create(this.constructor.prototype);return Object.assign(u,this),u.property=c,u}fromArray(c){}}C.Layout=r;function t(R,c){return c.property?R+"["+c.property+"]":R}C.nameWithProperty=t;function e(R,c){if(typeof R!="function")throw new TypeError("Class must be constructor");if(R.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(c&&c instanceof r))throw new TypeError("layout must be a Layout");if(c.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");R.layout_=c,c.boundConstructor_=R,c.makeDestinationObject=()=>new R,Object.defineProperty(R.prototype,"encode",{value:function(u,h){return c.encode(this,u,h)},writable:!0}),Object.defineProperty(R,"decode",{value:function(u,h){return c.decode(u,h)},writable:!0})}C.bindConstructorLayout=e;class n extends r{isCount(){throw new Error("ExternalLayout is abstract")}}class i extends n{constructor(c,u){if(c===void 0&&(c=1),!Number.isInteger(c)||0>=c)throw new TypeError("elementSpan must be a (positive) integer");super(-1,u),this.elementSpan=c}isCount(){return!0}decode(c,u){u===void 0&&(u=0);const h=c.length-u;return Math.floor(h/this.elementSpan)}encode(c,u,h){return 0}}class o extends n{constructor(c,u,h){if(!(c instanceof r))throw new TypeError("layout must be a Layout");if(u===void 0)u=0;else if(!Number.isInteger(u))throw new TypeError("offset must be integer or undefined");super(c.span,h||c.property),this.layout=c,this.offset=u}isCount(){return this.layout instanceof s||this.layout instanceof a}decode(c,u){return u===void 0&&(u=0),this.layout.decode(c,u+this.offset)}encode(c,u,h){return h===void 0&&(h=0),this.layout.encode(c,u,h+this.offset)}}class s extends r{constructor(c,u){if(super(c,u),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,u){return u===void 0&&(u=0),c.readUIntLE(u,this.span)}encode(c,u,h){return h===void 0&&(h=0),u.writeUIntLE(c,h,this.span),this.span}}class a extends r{constructor(c,u){if(super(c,u),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,u){return u===void 0&&(u=0),c.readUIntBE(u,this.span)}encode(c,u,h){return h===void 0&&(h=0),u.writeUIntBE(c,h,this.span),this.span}}class _ extends r{constructor(c,u){if(super(c,u),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,u){return u===void 0&&(u=0),c.readIntLE(u,this.span)}encode(c,u,h){return h===void 0&&(h=0),u.writeIntLE(c,h,this.span),this.span}}class l extends r{constructor(c,u){if(super(c,u),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,u){return u===void 0&&(u=0),c.readIntBE(u,this.span)}encode(c,u,h){return h===void 0&&(h=0),u.writeIntBE(c,h,this.span),this.span}}const d=Math.pow(2,32);function A(R){const c=Math.floor(R/d),u=R-c*d;return{hi32:c,lo32:u}}function E(R,c){return R*d+c}class p extends r{constructor(c){super(8,c)}decode(c,u){u===void 0&&(u=0);const h=c.readUInt32LE(u),w=c.readUInt32LE(u+4);return E(w,h)}encode(c,u,h){h===void 0&&(h=0);const w=A(c);return u.writeUInt32LE(w.lo32,h),u.writeUInt32LE(w.hi32,h+4),8}}class y extends r{constructor(c){super(8,c)}decode(c,u){u===void 0&&(u=0);const h=c.readUInt32BE(u),w=c.readUInt32BE(u+4);return E(h,w)}encode(c,u,h){h===void 0&&(h=0);const w=A(c);return u.writeUInt32BE(w.hi32,h),u.writeUInt32BE(w.lo32,h+4),8}}class O extends r{constructor(c){super(8,c)}decode(c,u){u===void 0&&(u=0);const h=c.readUInt32LE(u),w=c.readInt32LE(u+4);return E(w,h)}encode(c,u,h){h===void 0&&(h=0);const w=A(c);return u.writeUInt32LE(w.lo32,h),u.writeInt32LE(w.hi32,h+4),8}}class v extends r{constructor(c){super(8,c)}decode(c,u){u===void 0&&(u=0);const h=c.readInt32BE(u),w=c.readUInt32BE(u+4);return E(h,w)}encode(c,u,h){h===void 0&&(h=0);const w=A(c);return u.writeInt32BE(w.hi32,h),u.writeUInt32BE(w.lo32,h+4),8}}class N extends r{constructor(c){super(4,c)}decode(c,u){return u===void 0&&(u=0),c.readFloatLE(u)}encode(c,u,h){return h===void 0&&(h=0),u.writeFloatLE(c,h),4}}class M extends r{constructor(c){super(4,c)}decode(c,u){return u===void 0&&(u=0),c.readFloatBE(u)}encode(c,u,h){return h===void 0&&(h=0),u.writeFloatBE(c,h),4}}class L extends r{constructor(c){super(8,c)}decode(c,u){return u===void 0&&(u=0),c.readDoubleLE(u)}encode(c,u,h){return h===void 0&&(h=0),u.writeDoubleLE(c,h),8}}class T extends r{constructor(c){super(8,c)}decode(c,u){return u===void 0&&(u=0),c.readDoubleBE(u)}encode(c,u,h){return h===void 0&&(h=0),u.writeDoubleBE(c,h),8}}class H extends r{constructor(c,u,h){if(!(c instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(u instanceof n&&u.isCount()||Number.isInteger(u)&&0<=u))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let w=-1;!(u instanceof n)&&0<c.span&&(w=u*c.span),super(w,h),this.elementLayout=c,this.count=u}getSpan(c,u){if(0<=this.span)return this.span;u===void 0&&(u=0);let h=0,w=this.count;if(w instanceof n&&(w=w.decode(c,u)),0<this.elementLayout.span)h=w*this.elementLayout.span;else{let S=0;for(;S<w;)h+=this.elementLayout.getSpan(c,u+h),++S}return h}decode(c,u){u===void 0&&(u=0);const h=[];let w=0,S=this.count;for(S instanceof n&&(S=S.decode(c,u));w<S;)h.push(this.elementLayout.decode(c,u)),u+=this.elementLayout.getSpan(c,u),w+=1;return h}encode(c,u,h){h===void 0&&(h=0);const w=this.elementLayout,S=c.reduce((q,W)=>q+w.encode(W,u,h+q),0);return this.count instanceof n&&this.count.encode(c.length,u,h),S}}class F extends r{constructor(c,u,h){if(!(Array.isArray(c)&&c.reduce((S,q)=>S&&q instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof u=="boolean"&&h===void 0&&(h=u,u=void 0);for(const S of c)if(0>S.span&&S.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let w=-1;try{w=c.reduce((S,q)=>S+q.getSpan(),0)}catch{}super(w,u),this.fields=c,this.decodePrefixes=!!h}getSpan(c,u){if(0<=this.span)return this.span;u===void 0&&(u=0);let h=0;try{h=this.fields.reduce((w,S)=>{const q=S.getSpan(c,u);return u+=q,w+q},0)}catch{throw new RangeError("indeterminate span")}return h}decode(c,u){u===void 0&&(u=0);const h=this.makeDestinationObject();for(const w of this.fields)if(w.property!==void 0&&(h[w.property]=w.decode(c,u)),u+=w.getSpan(c,u),this.decodePrefixes&&c.length===u)break;return h}encode(c,u,h){h===void 0&&(h=0);const w=h;let S=0,q=0;for(const W of this.fields){let Le=W.span;if(q=0<Le?Le:0,W.property!==void 0){const jt=c[W.property];jt!==void 0&&(q=W.encode(jt,u,h),0>Le&&(Le=W.getSpan(u,h)))}S=h,h+=Le}return S+q-w}fromArray(c){const u=this.makeDestinationObject();for(const h of this.fields)h.property!==void 0&&0<c.length&&(u[h.property]=c.shift());return u}layoutFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const u of this.fields)if(u.property===c)return u}offsetOf(c){if(typeof c!="string")throw new TypeError("property must be string");let u=0;for(const h of this.fields){if(h.property===c)return u;0>h.span?u=-1:0<=u&&(u+=h.span)}}}class D{constructor(c){this.property=c}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class B extends D{constructor(c,u){if(!(c instanceof n&&c.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(u||c.property||"variant"),this.layout=c}decode(c,u){return this.layout.decode(c,u)}encode(c,u,h){return this.layout.encode(c,u,h)}}class G extends r{constructor(c,u,h){const w=c instanceof s||c instanceof a;if(w)c=new B(new o(c));else if(c instanceof n&&c.isCount())c=new B(c);else if(!(c instanceof D))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(u===void 0&&(u=null),!(u===null||u instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(u!==null){if(0>u.span)throw new Error("defaultLayout must have constant span");u.property===void 0&&(u=u.replicate("content"))}let S=-1;u&&(S=u.span,0<=S&&w&&(S+=c.layout.span)),super(S,h),this.discriminator=c,this.usesPrefixDiscriminator=w,this.defaultLayout=u,this.registry={};let q=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(W){return q(W)},this.configGetSourceVariant=function(W){q=W.bind(this)}}getSpan(c,u){if(0<=this.span)return this.span;u===void 0&&(u=0);const h=this.getVariant(c,u);if(!h)throw new Error("unable to determine span for unrecognized variant");return h.getSpan(c,u)}defaultGetSourceVariant(c){if(c.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&c.hasOwnProperty(this.defaultLayout.property))return;const u=this.registry[c[this.discriminator.property]];if(u&&(!u.layout||c.hasOwnProperty(u.property)))return u}else for(const u in this.registry){const h=this.registry[u];if(c.hasOwnProperty(h.property))return h}throw new Error("unable to infer src variant")}decode(c,u){u===void 0&&(u=0);let h;const w=this.discriminator,S=w.decode(c,u);let q=this.registry[S];if(q===void 0){let W=0;q=this.defaultLayout,this.usesPrefixDiscriminator&&(W=w.layout.span),h=this.makeDestinationObject(),h[w.property]=S,h[q.property]=this.defaultLayout.decode(c,u+W)}else h=q.decode(c,u);return h}encode(c,u,h){h===void 0&&(h=0);const w=this.getSourceVariant(c);if(w===void 0){const S=this.discriminator,q=this.defaultLayout;let W=0;return this.usesPrefixDiscriminator&&(W=S.layout.span),S.encode(c[S.property],u,h),W+q.encode(c[q.property],u,h+W)}return w.encode(c,u,h)}addVariant(c,u,h){const w=new U(this,c,u,h);return this.registry[c]=w,w}getVariant(c,u){let h=c;return j.isBuffer(c)&&(u===void 0&&(u=0),h=this.discriminator.decode(c,u)),this.registry[h]}}class U extends r{constructor(c,u,h,w){if(!(c instanceof G))throw new TypeError("union must be a Union");if(!Number.isInteger(u)||0>u)throw new TypeError("variant must be a (non-negative) integer");if(typeof h=="string"&&w===void 0&&(w=h,h=null),h){if(!(h instanceof r))throw new TypeError("layout must be a Layout");if(c.defaultLayout!==null&&0<=h.span&&h.span>c.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof w!="string")throw new TypeError("variant must have a String property")}let S=c.span;0>c.span&&(S=h?h.span:0,0<=S&&c.usesPrefixDiscriminator&&(S+=c.discriminator.layout.span)),super(S,w),this.union=c,this.variant=u,this.layout=h||null}getSpan(c,u){if(0<=this.span)return this.span;u===void 0&&(u=0);let h=0;return this.union.usesPrefixDiscriminator&&(h=this.union.discriminator.layout.span),h+this.layout.getSpan(c,u+h)}decode(c,u){const h=this.makeDestinationObject();if(u===void 0&&(u=0),this!==this.union.getVariant(c,u))throw new Error("variant mismatch");let w=0;return this.union.usesPrefixDiscriminator&&(w=this.union.discriminator.layout.span),this.layout?h[this.property]=this.layout.decode(c,u+w):this.property?h[this.property]=!0:this.union.usesPrefixDiscriminator&&(h[this.union.discriminator.property]=this.variant),h}encode(c,u,h){h===void 0&&(h=0);let w=0;if(this.union.usesPrefixDiscriminator&&(w=this.union.discriminator.layout.span),this.layout&&!c.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,u,h);let S=w;if(this.layout&&(this.layout.encode(c[this.property],u,h+w),S+=this.layout.getSpan(u,h+w),0<=this.union.span&&S>this.union.span))throw new Error("encoded variant overruns containing union");return S}fromArray(c){if(this.layout)return this.layout.fromArray(c)}}function P(R){return 0>R&&(R+=4294967296),R}class x extends r{constructor(c,u,h){if(!(c instanceof s||c instanceof a))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof u=="string"&&h===void 0&&(h=u,u=void 0),4<c.span)throw new RangeError("word cannot exceed 32 bits");super(c.span,h),this.word=c,this.msb=!!u,this.fields=[];let w=0;this._packedSetValue=function(S){return w=P(S),this},this._packedGetValue=function(){return w}}decode(c,u){const h=this.makeDestinationObject();u===void 0&&(u=0);const w=this.word.decode(c,u);this._packedSetValue(w);for(const S of this.fields)S.property!==void 0&&(h[S.property]=S.decode(w));return h}encode(c,u,h){h===void 0&&(h=0);const w=this.word.decode(u,h);this._packedSetValue(w);for(const S of this.fields)if(S.property!==void 0){const q=c[S.property];q!==void 0&&S.encode(q)}return this.word.encode(this._packedGetValue(),u,h)}addField(c,u){const h=new b(this,c,u);return this.fields.push(h),h}addBoolean(c){const u=new f(this,c);return this.fields.push(u),u}fieldFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const u of this.fields)if(u.property===c)return u}}class b{constructor(c,u,h){if(!(c instanceof x))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(u)||0>=u)throw new TypeError("bits must be positive integer");const w=8*c.span,S=c.fields.reduce((q,W)=>q+W.bits,0);if(u+S>w)throw new Error("bits too long for span remainder ("+(w-S)+" of "+w+" remain)");this.container=c,this.bits=u,this.valueMask=(1<<u)-1,u===32&&(this.valueMask=4294967295),this.start=S,this.container.msb&&(this.start=w-S-u),this.wordMask=P(this.valueMask<<this.start),this.property=h}decode(){const c=this.container._packedGetValue();return P(c&this.wordMask)>>>this.start}encode(c){if(!Number.isInteger(c)||c!==P(c&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const u=this.container._packedGetValue(),h=P(c<<this.start);this.container._packedSetValue(P(u&~this.wordMask)|h)}}class f extends b{constructor(c,u){super(c,1,u)}decode(c,u){return!!b.prototype.decode.call(this,c,u)}encode(c){return typeof c=="boolean"&&(c=+c),b.prototype.encode.call(this,c)}}class g extends r{constructor(c,u){if(!(c instanceof n&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let h=-1;c instanceof n||(h=c),super(h,u),this.length=c}getSpan(c,u){let h=this.span;return 0>h&&(h=this.length.decode(c,u)),h}decode(c,u){u===void 0&&(u=0);let h=this.span;return 0>h&&(h=this.length.decode(c,u)),c.slice(u,u+h)}encode(c,u,h){let w=this.length;if(this.length instanceof n&&(w=c.length),!(j.isBuffer(c)&&w===c.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+w+") Buffer as src");if(h+w>u.length)throw new RangeError("encoding overruns Buffer");return u.write(c.toString("hex"),h,w,"hex"),this.length instanceof n&&this.length.encode(w,u,h),w}}class k extends r{constructor(c){super(-1,c)}getSpan(c,u){if(!j.isBuffer(c))throw new TypeError("b must be a Buffer");u===void 0&&(u=0);let h=u;for(;h<c.length&&c[h]!==0;)h+=1;return 1+h-u}decode(c,u,h){u===void 0&&(u=0);let w=this.getSpan(c,u);return c.slice(u,u+w-1).toString("utf-8")}encode(c,u,h){h===void 0&&(h=0),typeof c!="string"&&(c=c.toString());const w=new j(c,"utf8"),S=w.length;if(h+S>u.length)throw new RangeError("encoding overruns Buffer");return w.copy(u,h),u[h+S]=0,S+1}}class z extends r{constructor(c,u){if(typeof c=="string"&&u===void 0&&(u=c,c=void 0),c===void 0)c=-1;else if(!Number.isInteger(c))throw new TypeError("maxSpan must be an integer");super(-1,u),this.maxSpan=c}getSpan(c,u){if(!j.isBuffer(c))throw new TypeError("b must be a Buffer");return u===void 0&&(u=0),c.length-u}decode(c,u,h){u===void 0&&(u=0);let w=this.getSpan(c,u);if(0<=this.maxSpan&&this.maxSpan<w)throw new RangeError("text length exceeds maxSpan");return c.slice(u,u+w).toString("utf-8")}encode(c,u,h){h===void 0&&(h=0),typeof c!="string"&&(c=c.toString());const w=new j(c,"utf8"),S=w.length;if(0<=this.maxSpan&&this.maxSpan<S)throw new RangeError("text length exceeds maxSpan");if(h+S>u.length)throw new RangeError("encoding overruns Buffer");return w.copy(u,h),S}}class X extends r{constructor(c,u){super(0,u),this.value=c}decode(c,u,h){return this.value}encode(c,u,h){return 0}}return C.ExternalLayout=n,C.GreedyCount=i,C.OffsetLayout=o,C.UInt=s,C.UIntBE=a,C.Int=_,C.IntBE=l,C.Float=N,C.FloatBE=M,C.Double=L,C.DoubleBE=T,C.Sequence=H,C.Structure=F,C.UnionDiscriminator=D,C.UnionLayoutDiscriminator=B,C.Union=G,C.VariantLayout=U,C.BitStructure=x,C.BitField=b,C.Boolean=f,C.Blob=g,C.CString=k,C.UTF8=z,C.Constant=X,C.greedy=(R,c)=>new i(R,c),C.offset=(R,c,u)=>new o(R,c,u),C.u8=R=>new s(1,R),C.u16=R=>new s(2,R),C.u24=R=>new s(3,R),C.u32=R=>new s(4,R),C.u40=R=>new s(5,R),C.u48=R=>new s(6,R),C.nu64=R=>new p(R),C.u16be=R=>new a(2,R),C.u24be=R=>new a(3,R),C.u32be=R=>new a(4,R),C.u40be=R=>new a(5,R),C.u48be=R=>new a(6,R),C.nu64be=R=>new y(R),C.s8=R=>new _(1,R),C.s16=R=>new _(2,R),C.s24=R=>new _(3,R),C.s32=R=>new _(4,R),C.s40=R=>new _(5,R),C.s48=R=>new _(6,R),C.ns64=R=>new O(R),C.s16be=R=>new l(2,R),C.s24be=R=>new l(3,R),C.s32be=R=>new l(4,R),C.s40be=R=>new l(5,R),C.s48be=R=>new l(6,R),C.ns64be=R=>new v(R),C.f32=R=>new N(R),C.f32be=R=>new M(R),C.f64=R=>new L(R),C.f64be=R=>new T(R),C.struct=(R,c,u)=>new F(R,c,u),C.bits=(R,c,u)=>new x(R,c,u),C.seq=(R,c,u)=>new H(R,c,u),C.union=(R,c,u)=>new G(R,c,u),C.unionLayoutDiscriminator=(R,c)=>new B(R,c),C.blob=(R,c)=>new g(R,c),C.cstr=R=>new k(R),C.utf8=(R,c)=>new z(R,c),C.const=(R,c)=>new X(R,c),C}var tn;function Lo(){return tn||(tn=1,function(r){var t=Me&&Me.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(r,"__esModule",{value:!0}),r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0,r.u64=a,r.i64=_,r.u128=l,r.i128=d,r.u256=A,r.i256=E,r.publicKey=y,r.option=v,r.bool=N,r.vec=T,r.tagged=H,r.vecU8=F,r.str=D,r.rustEnum=B,r.array=G,r.map=P;const e=en(),n=Wn,i=t(po());var o=en();Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends e.Layout{constructor(b,f,g){super(b,g),this.blob=(0,e.blob)(b),this.signed=f}decode(b,f=0){const g=new i.default(this.blob.decode(b,f),10,"le");return this.signed?g.fromTwos(this.span*8).clone():g}encode(b,f,g=0){return this.signed&&(b=b.toTwos(this.span*8)),this.blob.encode(b.toArrayLike(j,"le",this.span),f,g)}}function a(x){return new s(8,!1,x)}function _(x){return new s(8,!0,x)}function l(x){return new s(16,!1,x)}function d(x){return new s(16,!0,x)}function A(x){return new s(32,!1,x)}function E(x){return new s(32,!0,x)}class p extends e.Layout{constructor(b,f,g,k){super(b.span,k),this.layout=b,this.decoder=f,this.encoder=g}decode(b,f){return this.decoder(this.layout.decode(b,f))}encode(b,f,g){return this.layout.encode(this.encoder(b),f,g)}getSpan(b,f){return this.layout.getSpan(b,f)}}function y(x){return new p((0,e.blob)(32),b=>new n.PublicKey(b),b=>b.toBuffer(),x)}class O extends e.Layout{constructor(b,f){super(-1,f),this.layout=b,this.discriminator=(0,e.u8)()}encode(b,f,g=0){return b==null?this.discriminator.encode(0,f,g):(this.discriminator.encode(1,f,g),this.layout.encode(b,f,g+1)+1)}decode(b,f=0){const g=this.discriminator.decode(b,f);if(g===0)return null;if(g===1)return this.layout.decode(b,f+1);throw new Error("Invalid option "+this.property)}getSpan(b,f=0){const g=this.discriminator.decode(b,f);if(g===0)return 1;if(g===1)return this.layout.getSpan(b,f+1)+1;throw new Error("Invalid option "+this.property)}}function v(x,b){return new O(x,b)}function N(x){return new p((0,e.u8)(),M,L,x)}function M(x){if(x===0)return!1;if(x===1)return!0;throw new Error("Invalid bool: "+x)}function L(x){return x?1:0}function T(x,b){const f=(0,e.u32)("length"),g=(0,e.struct)([f,(0,e.seq)(x,(0,e.offset)(f,-f.span),"values")]);return new p(g,({values:k})=>k,k=>({values:k}),b)}function H(x,b,f){const g=(0,e.struct)([a("tag"),b.replicate("data")]);function k({tag:z,data:X}){if(!z.eq(x))throw new Error("Invalid tag, expected: "+x.toString("hex")+", got: "+z.toString("hex"));return X}return new p(g,k,z=>({tag:x,data:z}),f)}function F(x){const b=(0,e.u32)("length"),f=(0,e.struct)([b,(0,e.blob)((0,e.offset)(b,-b.span),"data")]);return new p(f,({data:g})=>g,g=>({data:g}),x)}function D(x){return new p(F(),b=>b.toString("utf-8"),b=>j.from(b,"utf-8"),x)}function B(x,b,f){const g=(0,e.union)(f??(0,e.u8)(),b);return x.forEach((k,z)=>g.addVariant(z,k,k.property)),g}function G(x,b,f){const g=(0,e.struct)([(0,e.seq)(x,b,"values")]);return new p(g,({values:k})=>k,k=>({values:k}),f)}class U extends e.Layout{constructor(b,f,g){super(b.span+f.span,g),this.keyLayout=b,this.valueLayout=f}decode(b,f){f=f||0;const g=this.keyLayout.decode(b,f),k=this.valueLayout.decode(b,f+this.keyLayout.getSpan(b,f));return[g,k]}encode(b,f,g){g=g||0;const k=this.keyLayout.encode(b[0],f,g),z=this.valueLayout.encode(b[1],f,g+k);return k+z}getSpan(b,f){return this.keyLayout.getSpan(b,f)+this.valueLayout.getSpan(b,f)}}function P(x,b,f){const g=(0,e.u32)("length"),k=(0,e.struct)([g,(0,e.seq)(new U(x,b),(0,e.offset)(g,-g.span),"values")]);return new p(k,({values:z})=>new Map(z),z=>({values:Array.from(z.entries())}),f)}}(Me)),Me}var V=Lo();function De(r){let t=r.length;for(;--t>=0;)r[t]=0}const Po=3,Mo=258,Yn=29,Uo=256,Ho=Uo+1+Yn,Zn=30,Bo=512,Go=new Array((Ho+2)*2);De(Go);const Vo=new Array(Zn*2);De(Vo);const $o=new Array(Bo);De($o);const zo=new Array(Mo-Po+1);De(zo);const qo=new Array(Yn);De(qo);const Fo=new Array(Zn);De(Fo);const Ko=(r,t,e,n)=>{let i=r&65535|0,o=r>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do i=i+t[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var xt=Ko;const jo=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},Xo=new Uint32Array(jo()),Wo=(r,t,e,n)=>{const i=Xo,o=n+e;r^=-1;for(let s=n;s<o;s++)r=r>>>8^i[(r^t[s])&255];return r^-1};var ae=Wo,Dt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qn={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Yo=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var Zo=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)Yo(e,n)&&(r[n]=e[n])}}return r},Qo=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,i=0,o=r.length;n<o;n++){let s=r[n];e.set(s,i),i+=s.length}return e},Jn={assign:Zo,flattenChunks:Qo};let er=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{er=!1}const Ve=new Uint8Array(256);for(let r=0;r<256;r++)Ve[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Ve[254]=Ve[254]=1;var Jo=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,o,s=r.length,a=0;for(i=0;i<s;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const ea=(r,t)=>{if(t<65534&&r.subarray&&er)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var ta=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i;const o=new Array(e*2);for(i=0,n=0;n<e;){let s=r[n++];if(s<128){o[i++]=s;continue}let a=Ve[s];if(a>4){o[i++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<e;)s=s<<6|r[n++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return ea(o,i)},na=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Ve[r[e]]>t?e:t},Lt={string2buf:Jo,buf2string:ta,utf8border:na};function ra(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ia=ra;const Ye=16209,oa=16191;var aa=function(t,e){let n,i,o,s,a,_,l,d,A,E,p,y,O,v,N,M,L,T,H,F,D,B,G,U;const P=t.state;n=t.next_in,G=t.input,i=n+(t.avail_in-5),o=t.next_out,U=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),_=P.dmax,l=P.wsize,d=P.whave,A=P.wnext,E=P.window,p=P.hold,y=P.bits,O=P.lencode,v=P.distcode,N=(1<<P.lenbits)-1,M=(1<<P.distbits)-1;e:do{y<15&&(p+=G[n++]<<y,y+=8,p+=G[n++]<<y,y+=8),L=O[p&N];t:for(;;){if(T=L>>>24,p>>>=T,y-=T,T=L>>>16&255,T===0)U[o++]=L&65535;else if(T&16){H=L&65535,T&=15,T&&(y<T&&(p+=G[n++]<<y,y+=8),H+=p&(1<<T)-1,p>>>=T,y-=T),y<15&&(p+=G[n++]<<y,y+=8,p+=G[n++]<<y,y+=8),L=v[p&M];n:for(;;){if(T=L>>>24,p>>>=T,y-=T,T=L>>>16&255,T&16){if(F=L&65535,T&=15,y<T&&(p+=G[n++]<<y,y+=8,y<T&&(p+=G[n++]<<y,y+=8)),F+=p&(1<<T)-1,F>_){t.msg="invalid distance too far back",P.mode=Ye;break e}if(p>>>=T,y-=T,T=o-s,F>T){if(T=F-T,T>d&&P.sane){t.msg="invalid distance too far back",P.mode=Ye;break e}if(D=0,B=E,A===0){if(D+=l-T,T<H){H-=T;do U[o++]=E[D++];while(--T);D=o-F,B=U}}else if(A<T){if(D+=l+A-T,T-=A,T<H){H-=T;do U[o++]=E[D++];while(--T);if(D=0,A<H){T=A,H-=T;do U[o++]=E[D++];while(--T);D=o-F,B=U}}}else if(D+=A-T,T<H){H-=T;do U[o++]=E[D++];while(--T);D=o-F,B=U}for(;H>2;)U[o++]=B[D++],U[o++]=B[D++],U[o++]=B[D++],H-=3;H&&(U[o++]=B[D++],H>1&&(U[o++]=B[D++]))}else{D=o-F;do U[o++]=U[D++],U[o++]=U[D++],U[o++]=U[D++],H-=3;while(H>2);H&&(U[o++]=U[D++],H>1&&(U[o++]=U[D++]))}}else if((T&64)===0){L=v[(L&65535)+(p&(1<<T)-1)];continue n}else{t.msg="invalid distance code",P.mode=Ye;break e}break}}else if((T&64)===0){L=O[(L&65535)+(p&(1<<T)-1)];continue t}else if(T&32){P.mode=oa;break e}else{t.msg="invalid literal/length code",P.mode=Ye;break e}break}}while(n<i&&o<a);H=y>>3,n-=H,y-=H<<3,p&=(1<<y)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<a?257+(a-o):257-(o-a),P.hold=p,P.bits=y};const be=15,nn=852,rn=592,on=0,mt=1,an=2,sa=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ca=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ua=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),la=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),da=(r,t,e,n,i,o,s,a)=>{const _=a.bits;let l=0,d=0,A=0,E=0,p=0,y=0,O=0,v=0,N=0,M=0,L,T,H,F,D,B=null,G;const U=new Uint16Array(be+1),P=new Uint16Array(be+1);let x=null,b,f,g;for(l=0;l<=be;l++)U[l]=0;for(d=0;d<n;d++)U[t[e+d]]++;for(p=_,E=be;E>=1&&U[E]===0;E--);if(p>E&&(p=E),E===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(A=1;A<E&&U[A]===0;A++);for(p<A&&(p=A),v=1,l=1;l<=be;l++)if(v<<=1,v-=U[l],v<0)return-1;if(v>0&&(r===on||E!==1))return-1;for(P[1]=0,l=1;l<be;l++)P[l+1]=P[l]+U[l];for(d=0;d<n;d++)t[e+d]!==0&&(s[P[t[e+d]]++]=d);if(r===on?(B=x=s,G=20):r===mt?(B=sa,x=ca,G=257):(B=ua,x=la,G=0),M=0,d=0,l=A,D=o,y=p,O=0,H=-1,N=1<<p,F=N-1,r===mt&&N>nn||r===an&&N>rn)return 1;for(;;){b=l-O,s[d]+1<G?(f=0,g=s[d]):s[d]>=G?(f=x[s[d]-G],g=B[s[d]-G]):(f=96,g=0),L=1<<l-O,T=1<<y,A=T;do T-=L,i[D+(M>>O)+T]=b<<24|f<<16|g|0;while(T!==0);for(L=1<<l-1;M&L;)L>>=1;if(L!==0?(M&=L-1,M+=L):M=0,d++,--U[l]===0){if(l===E)break;l=t[e+s[d]]}if(l>p&&(M&F)!==H){for(O===0&&(O=p),D+=A,y=l-O,v=1<<y;y+O<E&&(v-=U[y+O],!(v<=0));)y++,v<<=1;if(N+=1<<y,r===mt&&N>nn||r===an&&N>rn)return 1;H=M&F,i[H]=p<<24|y<<16|D-o|0}}return M!==0&&(i[D+M]=l-O<<24|64<<16|0),a.bits=p,0};var Be=da;const ha=0,tr=1,nr=2,{Z_FINISH:sn,Z_BLOCK:fa,Z_TREES:Ze,Z_OK:Te,Z_STREAM_END:_a,Z_NEED_DICT:pa,Z_STREAM_ERROR:re,Z_DATA_ERROR:rr,Z_MEM_ERROR:ir,Z_BUF_ERROR:Ra,Z_DEFLATED:cn}=Qn,dt=16180,un=16181,ln=16182,dn=16183,hn=16184,fn=16185,_n=16186,pn=16187,Rn=16188,mn=16189,st=16190,ce=16191,Et=16192,En=16193,gt=16194,gn=16195,yn=16196,wn=16197,An=16198,Qe=16199,Je=16200,On=16201,Nn=16202,Tn=16203,vn=16204,bn=16205,yt=16206,In=16207,Cn=16208,K=16209,or=16210,ar=16211,ma=852,Ea=592,ga=15,ya=ga,Sn=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function wa(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ve=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<dt||t.mode>ar?1:0},sr=r=>{if(ve(r))return re;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=dt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ma),t.distcode=t.distdyn=new Int32Array(Ea),t.sane=1,t.back=-1,Te},cr=r=>{if(ve(r))return re;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,sr(r)},ur=(r,t)=>{let e;if(ve(r))return re;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?re:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,cr(r))},lr=(r,t)=>{if(!r)return re;const e=new wa;r.state=e,e.strm=r,e.window=null,e.mode=dt;const n=ur(r,t);return n!==Te&&(r.state=null),n},Aa=r=>lr(r,ya);let kn=!0,wt,At;const Oa=r=>{if(kn){wt=new Int32Array(512),At=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Be(tr,r.lens,0,288,wt,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Be(nr,r.lens,0,32,At,0,r.work,{bits:5}),kn=!1}r.lencode=wt,r.lenbits=9,r.distcode=At,r.distbits=5},dr=(r,t,e,n)=>{let i;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Na=(r,t)=>{let e,n,i,o,s,a,_,l,d,A,E,p,y,O,v=0,N,M,L,T,H,F,D,B;const G=new Uint8Array(4);let U,P;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ve(r)||!r.output||!r.input&&r.avail_in!==0)return re;e=r.state,e.mode===ce&&(e.mode=Et),s=r.next_out,i=r.output,_=r.avail_out,o=r.next_in,n=r.input,a=r.avail_in,l=e.hold,d=e.bits,A=a,E=_,B=Te;e:for(;;)switch(e.mode){case dt:if(e.wrap===0){e.mode=Et;break}for(;d<16;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(e.wrap&2&&l===35615){e.wbits===0&&(e.wbits=15),e.check=0,G[0]=l&255,G[1]=l>>>8&255,e.check=ae(e.check,G,2,0),l=0,d=0,e.mode=un;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((l&255)<<8)+(l>>8))%31){r.msg="incorrect header check",e.mode=K;break}if((l&15)!==cn){r.msg="unknown compression method",e.mode=K;break}if(l>>>=4,d-=4,D=(l&15)+8,e.wbits===0&&(e.wbits=D),D>15||D>e.wbits){r.msg="invalid window size",e.mode=K;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=l&512?mn:ce,l=0,d=0;break;case un:for(;d<16;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(e.flags=l,(e.flags&255)!==cn){r.msg="unknown compression method",e.mode=K;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=K;break}e.head&&(e.head.text=l>>8&1),e.flags&512&&e.wrap&4&&(G[0]=l&255,G[1]=l>>>8&255,e.check=ae(e.check,G,2,0)),l=0,d=0,e.mode=ln;case ln:for(;d<32;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}e.head&&(e.head.time=l),e.flags&512&&e.wrap&4&&(G[0]=l&255,G[1]=l>>>8&255,G[2]=l>>>16&255,G[3]=l>>>24&255,e.check=ae(e.check,G,4,0)),l=0,d=0,e.mode=dn;case dn:for(;d<16;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}e.head&&(e.head.xflags=l&255,e.head.os=l>>8),e.flags&512&&e.wrap&4&&(G[0]=l&255,G[1]=l>>>8&255,e.check=ae(e.check,G,2,0)),l=0,d=0,e.mode=hn;case hn:if(e.flags&1024){for(;d<16;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}e.length=l,e.head&&(e.head.extra_len=l),e.flags&512&&e.wrap&4&&(G[0]=l&255,G[1]=l>>>8&255,e.check=ae(e.check,G,2,0)),l=0,d=0}else e.head&&(e.head.extra=null);e.mode=fn;case fn:if(e.flags&1024&&(p=e.length,p>a&&(p=a),p&&(e.head&&(D=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+p),D)),e.flags&512&&e.wrap&4&&(e.check=ae(e.check,n,p,o)),a-=p,o+=p,e.length-=p),e.length))break e;e.length=0,e.mode=_n;case _n:if(e.flags&2048){if(a===0)break e;p=0;do D=n[o+p++],e.head&&D&&e.length<65536&&(e.head.name+=String.fromCharCode(D));while(D&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=ae(e.check,n,p,o)),a-=p,o+=p,D)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=pn;case pn:if(e.flags&4096){if(a===0)break e;p=0;do D=n[o+p++],e.head&&D&&e.length<65536&&(e.head.comment+=String.fromCharCode(D));while(D&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=ae(e.check,n,p,o)),a-=p,o+=p,D)break e}else e.head&&(e.head.comment=null);e.mode=Rn;case Rn:if(e.flags&512){for(;d<16;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(e.wrap&4&&l!==(e.check&65535)){r.msg="header crc mismatch",e.mode=K;break}l=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=ce;break;case mn:for(;d<32;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}r.adler=e.check=Sn(l),l=0,d=0,e.mode=st;case st:if(e.havedict===0)return r.next_out=s,r.avail_out=_,r.next_in=o,r.avail_in=a,e.hold=l,e.bits=d,pa;r.adler=e.check=1,e.mode=ce;case ce:if(t===fa||t===Ze)break e;case Et:if(e.last){l>>>=d&7,d-=d&7,e.mode=yt;break}for(;d<3;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}switch(e.last=l&1,l>>>=1,d-=1,l&3){case 0:e.mode=En;break;case 1:if(Oa(e),e.mode=Qe,t===Ze){l>>>=2,d-=2;break e}break;case 2:e.mode=yn;break;case 3:r.msg="invalid block type",e.mode=K}l>>>=2,d-=2;break;case En:for(l>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){r.msg="invalid stored block lengths",e.mode=K;break}if(e.length=l&65535,l=0,d=0,e.mode=gt,t===Ze)break e;case gt:e.mode=gn;case gn:if(p=e.length,p){if(p>a&&(p=a),p>_&&(p=_),p===0)break e;i.set(n.subarray(o,o+p),s),a-=p,o+=p,_-=p,s+=p,e.length-=p;break}e.mode=ce;break;case yn:for(;d<14;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(e.nlen=(l&31)+257,l>>>=5,d-=5,e.ndist=(l&31)+1,l>>>=5,d-=5,e.ncode=(l&15)+4,l>>>=4,d-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=K;break}e.have=0,e.mode=wn;case wn:for(;e.have<e.ncode;){for(;d<3;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}e.lens[x[e.have++]]=l&7,l>>>=3,d-=3}for(;e.have<19;)e.lens[x[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U={bits:e.lenbits},B=Be(ha,e.lens,0,19,e.lencode,0,e.work,U),e.lenbits=U.bits,B){r.msg="invalid code lengths set",e.mode=K;break}e.have=0,e.mode=An;case An:for(;e.have<e.nlen+e.ndist;){for(;v=e.lencode[l&(1<<e.lenbits)-1],N=v>>>24,M=v>>>16&255,L=v&65535,!(N<=d);){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(L<16)l>>>=N,d-=N,e.lens[e.have++]=L;else{if(L===16){for(P=N+2;d<P;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(l>>>=N,d-=N,e.have===0){r.msg="invalid bit length repeat",e.mode=K;break}D=e.lens[e.have-1],p=3+(l&3),l>>>=2,d-=2}else if(L===17){for(P=N+3;d<P;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}l>>>=N,d-=N,D=0,p=3+(l&7),l>>>=3,d-=3}else{for(P=N+7;d<P;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}l>>>=N,d-=N,D=0,p=11+(l&127),l>>>=7,d-=7}if(e.have+p>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=K;break}for(;p--;)e.lens[e.have++]=D}}if(e.mode===K)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=K;break}if(e.lenbits=9,U={bits:e.lenbits},B=Be(tr,e.lens,0,e.nlen,e.lencode,0,e.work,U),e.lenbits=U.bits,B){r.msg="invalid literal/lengths set",e.mode=K;break}if(e.distbits=6,e.distcode=e.distdyn,U={bits:e.distbits},B=Be(nr,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,U),e.distbits=U.bits,B){r.msg="invalid distances set",e.mode=K;break}if(e.mode=Qe,t===Ze)break e;case Qe:e.mode=Je;case Je:if(a>=6&&_>=258){r.next_out=s,r.avail_out=_,r.next_in=o,r.avail_in=a,e.hold=l,e.bits=d,aa(r,E),s=r.next_out,i=r.output,_=r.avail_out,o=r.next_in,n=r.input,a=r.avail_in,l=e.hold,d=e.bits,e.mode===ce&&(e.back=-1);break}for(e.back=0;v=e.lencode[l&(1<<e.lenbits)-1],N=v>>>24,M=v>>>16&255,L=v&65535,!(N<=d);){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(M&&(M&240)===0){for(T=N,H=M,F=L;v=e.lencode[F+((l&(1<<T+H)-1)>>T)],N=v>>>24,M=v>>>16&255,L=v&65535,!(T+N<=d);){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}l>>>=T,d-=T,e.back+=T}if(l>>>=N,d-=N,e.back+=N,e.length=L,M===0){e.mode=bn;break}if(M&32){e.back=-1,e.mode=ce;break}if(M&64){r.msg="invalid literal/length code",e.mode=K;break}e.extra=M&15,e.mode=On;case On:if(e.extra){for(P=e.extra;d<P;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Nn;case Nn:for(;v=e.distcode[l&(1<<e.distbits)-1],N=v>>>24,M=v>>>16&255,L=v&65535,!(N<=d);){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if((M&240)===0){for(T=N,H=M,F=L;v=e.distcode[F+((l&(1<<T+H)-1)>>T)],N=v>>>24,M=v>>>16&255,L=v&65535,!(T+N<=d);){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}l>>>=T,d-=T,e.back+=T}if(l>>>=N,d-=N,e.back+=N,M&64){r.msg="invalid distance code",e.mode=K;break}e.offset=L,e.extra=M&15,e.mode=Tn;case Tn:if(e.extra){for(P=e.extra;d<P;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=K;break}e.mode=vn;case vn:if(_===0)break e;if(p=E-_,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=K;break}p>e.wnext?(p-=e.wnext,y=e.wsize-p):y=e.wnext-p,p>e.length&&(p=e.length),O=e.window}else O=i,y=s-e.offset,p=e.length;p>_&&(p=_),_-=p,e.length-=p;do i[s++]=O[y++];while(--p);e.length===0&&(e.mode=Je);break;case bn:if(_===0)break e;i[s++]=e.length,_--,e.mode=Je;break;case yt:if(e.wrap){for(;d<32;){if(a===0)break e;a--,l|=n[o++]<<d,d+=8}if(E-=_,r.total_out+=E,e.total+=E,e.wrap&4&&E&&(r.adler=e.check=e.flags?ae(e.check,i,E,s-E):xt(e.check,i,E,s-E)),E=_,e.wrap&4&&(e.flags?l:Sn(l))!==e.check){r.msg="incorrect data check",e.mode=K;break}l=0,d=0}e.mode=In;case In:if(e.wrap&&e.flags){for(;d<32;){if(a===0)break e;a--,l+=n[o++]<<d,d+=8}if(e.wrap&4&&l!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=K;break}l=0,d=0}e.mode=Cn;case Cn:B=_a;break e;case K:B=rr;break e;case or:return ir;case ar:default:return re}return r.next_out=s,r.avail_out=_,r.next_in=o,r.avail_in=a,e.hold=l,e.bits=d,(e.wsize||E!==r.avail_out&&e.mode<K&&(e.mode<yt||t!==sn))&&dr(r,r.output,r.next_out,E-r.avail_out),A-=r.avail_in,E-=r.avail_out,r.total_in+=A,r.total_out+=E,e.total+=E,e.wrap&4&&E&&(r.adler=e.check=e.flags?ae(e.check,i,E,r.next_out-E):xt(e.check,i,E,r.next_out-E)),r.data_type=e.bits+(e.last?64:0)+(e.mode===ce?128:0)+(e.mode===Qe||e.mode===gt?256:0),(A===0&&E===0||t===sn)&&B===Te&&(B=Ra),B},Ta=r=>{if(ve(r))return re;let t=r.state;return t.window&&(t.window=null),r.state=null,Te},va=(r,t)=>{if(ve(r))return re;const e=r.state;return(e.wrap&2)===0?re:(e.head=t,t.done=!1,Te)},ba=(r,t)=>{const e=t.length;let n,i,o;return ve(r)||(n=r.state,n.wrap!==0&&n.mode!==st)?re:n.mode===st&&(i=1,i=xt(i,t,e,0),i!==n.check)?rr:(o=dr(r,t,e,e),o?(n.mode=or,ir):(n.havedict=1,Te))};var Ia=cr,Ca=ur,Sa=sr,ka=Aa,xa=lr,Da=Na,La=Ta,Pa=va,Ma=ba,Ua="pako inflate (from Nodeca project)",ue={inflateReset:Ia,inflateReset2:Ca,inflateResetKeep:Sa,inflateInit:ka,inflateInit2:xa,inflate:Da,inflateEnd:La,inflateGetHeader:Pa,inflateSetDictionary:Ma,inflateInfo:Ua};function Ha(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ba=Ha;const hr=Object.prototype.toString,{Z_NO_FLUSH:Ga,Z_FINISH:Va,Z_OK:$e,Z_STREAM_END:Ot,Z_NEED_DICT:Nt,Z_STREAM_ERROR:$a,Z_DATA_ERROR:xn,Z_MEM_ERROR:za}=Qn;function ht(r){this.options=Jn.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ia,this.strm.avail_out=0;let e=ue.inflateInit2(this.strm,t.windowBits);if(e!==$e)throw new Error(Dt[e]);if(this.header=new Ba,ue.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Lt.string2buf(t.dictionary):hr.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ue.inflateSetDictionary(this.strm,t.dictionary),e!==$e)))throw new Error(Dt[e])}ht.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Va:Ga,hr.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=ue.inflate(e,s),o===Nt&&i&&(o=ue.inflateSetDictionary(e,i),o===$e?o=ue.inflate(e,s):o===xn&&(o=Nt));e.avail_in>0&&o===Ot&&e.state.wrap>0&&r[e.next_in]!==0;)ue.inflateReset(e),o=ue.inflate(e,s);switch(o){case $a:case xn:case Nt:case za:return this.onEnd(o),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||o===Ot))if(this.options.to==="string"){let _=Lt.utf8border(e.output,e.next_out),l=e.next_out-_,d=Lt.buf2string(e.output,_);e.next_out=l,e.avail_out=n-l,l&&e.output.set(e.output.subarray(_,_+l),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===$e&&a===0)){if(o===Ot)return o=ue.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};ht.prototype.onData=function(r){this.chunks.push(r)};ht.prototype.onEnd=function(r){r===$e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jn.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function qa(r,t){const e=new ht(t);if(e.push(r),e.err)throw e.msg||Dt[e.err];return e.result}var Fa=qa,Ka={inflate:Fa};const{inflate:ja}=Ka;var Xa=ja;function Wa(r,t){return Array.apply(0,new Array(Math.ceil(r.length/t))).map((e,n)=>r.slice(n*t,(n+1)*t))}const ye=r=>"version"in r;function Ya(r){return new TextDecoder("utf-8").decode(r)}function Dn(r){return Vt.encode(r)}function fr(r){return te.Buffer.from(r,"base64")}function _e(r){return"accounts"in r}async function Za(r){const t=(await Y.findProgramAddress([],r))[0];return await Y.createWithSeed(t,Qa(),r)}function Qa(){return"anchor:idl"}const Ja=V.struct([V.publicKey("authority"),V.vecU8("data")]);function es(r){return Ja.decode(r)}function ts(r){const t=["name","path","account","relations","generic"],e=o=>o.split(".").map(Do).join("."),n=o=>{for(const s in o){const a=o[s];t.includes(s)?o[s]=Array.isArray(a)?a.map(e):e(a):typeof a=="object"&&n(a)}},i=structuredClone(r);return n(i),i}function Ie(r,t,e,n){return r!=null&&r.length?r[0].name?e(r):n(r):t()}function ns(r){const t=new Map;return r.errors&&r.errors.forEach(e=>{var n;let i=(n=e.msg)!==null&&n!==void 0?n:e.name;t.set(e.code,i)}),t}function rs(r,...t){if(r.args.length!=t.length)throw new Error("Invalid argument length");const e={};let n=0;return r.args.forEach(i=>{e[i.name]=t[n],n+=1}),e}function _r(r,t={}){r.forEach(e=>{if(_e(e))_r(e.accounts,t[e.name]);else if(!t[e.name])throw new Error(`Account \`${e.name}\` not provided.`)})}function oe(r){return r instanceof Y?r:new Y(r)}class is extends TypeError{constructor(t,e){let n;const{message:i,...o}=t,{path:s}=t,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var _;return(_=n)!=null?_:n=[t,...e()]}}}function os(r){return Ce(r)&&typeof r[Symbol.iterator]=="function"}function Ce(r){return typeof r=="object"&&r!=null}function Re(r){return typeof r=="string"?JSON.stringify(r):""+r}function as(r){const{done:t,value:e}=r.next();return t?void 0:e}function ss(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:i,branch:o}=t,{type:s}=e,{refinement:a,message:_="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Re(n)+"`"}=r;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...r,message:_}}function*Ln(r,t,e,n){os(r)||(r=[r]);for(const i of r){const o=ss(i,t,e,n);o&&(yield o)}}function*zt(r,t,e){e===void 0&&(e={});const{path:n=[],branch:i=[r],coerce:o=!1,mask:s=!1}=e,a={path:n,branch:i};if(o&&(r=t.coercer(r,a),s&&t.type!=="type"&&Ce(t.schema)&&Ce(r)&&!Array.isArray(r)))for(const l in r)t.schema[l]===void 0&&delete r[l];let _=!0;for(const l of t.validator(r,a))_=!1,yield[l,void 0];for(let[l,d,A]of t.entries(r,a)){const E=zt(d,A,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,d],coerce:o,mask:s});for(const p of E)p[0]?(_=!1,yield[p[0],void 0]):o&&(d=p[1],l===void 0?r=d:r instanceof Map?r.set(l,d):r instanceof Set?r.add(d):Ce(r)&&(r[l]=d))}if(_)for(const l of t.refiner(r,a))_=!1,yield[l,void 0];_&&(yield[void 0,r])}class me{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:i,refiner:o,coercer:s=_=>_,entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(_,l)=>{const d=i(_,l);return Ln(d,l,this,_)}:this.validator=()=>[],o?this.refiner=(_,l)=>{const d=o(_,l);return Ln(d,l,this,_)}:this.refiner=()=>[]}assert(t){return cs(t,this)}create(t){return qt(t,this)}is(t){return pr(t,this)}mask(t){return us(t,this)}validate(t,e){return e===void 0&&(e={}),ze(t,this,e)}}function cs(r,t){const e=ze(r,t);if(e[0])throw e[0]}function qt(r,t){const e=ze(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function us(r,t){const e=ze(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function pr(r,t){return!ze(r,t)[0]}function ze(r,t,e){e===void 0&&(e={});const n=zt(r,t,e),i=as(n);return i[0]?[new is(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function qe(r,t){return new me({type:r,schema:null,validator:t})}function ls(){return qe("any",()=>!0)}function Tt(r){return new me({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+Re(t)}})}function ds(){return qe("boolean",r=>typeof r=="boolean")}function Pn(r){const t=Re(r);return new me({type:"literal",schema:r,validator(e){return e===r||"Expected the literal `"+t+"`, but received: "+Re(e)}})}function et(r){return new me({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function ot(){return qe("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Re(r))}function at(r){return new me({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function Oe(){return qe("string",r=>typeof r=="string"||"Expected a string, but received: "+Re(r))}function pe(r){const t=Object.keys(r);return new me({type:"type",schema:r,*entries(e){if(Ce(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Ce(e)||"Expected an object, but received: "+Re(e)}})}function Rr(r){const t=r.map(e=>e.type).join(" | ");return new me({type:"union",schema:null,coercer(e,n){return(r.find(o=>{const[s]=o.validate(e,{coerce:!0});return!s})||Ft()).coercer(e,n)},validator(e,n){const i=[];for(const o of r){const[...s]=zt(e,o,n),[a]=s;if(a[0])for(const[_]of s)_&&i.push(_);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+Re(e),...i]}})}function Ft(){return qe("unknown",()=>!0)}function hs(r,t,e){return new me({...r,coercer:(n,i)=>pr(n,t)?r.coercer(e(n,i),i):r.coercer(n,i)})}const Mn=99;async function fs(r,t,e){if(t.length<=Mn)return await Un(r,t,e);{const n=Wa(t,Mn);return(await Promise.all(n.map(o=>Un(r,o,e)))).flat()}}async function Un(r,t,e){const n=e??r.commitment,{value:i,context:o}=await r.getMultipleAccountsInfoAndContext(t,n);return i.map((a,_)=>a===null?null:{publicKey:t[_],account:a,context:o})}async function _s(r,t,e,n,i){var o;e&&e.length>0&&t.sign(...e);const s=t._compile(),a=s.serialize(),l=t._serialize(a).toString("base64"),d={encoding:"base64",commitment:n??r.commitment};if(i){const y=(Array.isArray(i)?i:s.nonProgramIds()).map(O=>O.toBase58());d.accounts={encoding:"base64",addresses:y}}e&&e.length>0&&(d.sigVerify=!0);const A=[l,d],E=await r._rpcRequest("simulateTransaction",A),p=qt(E,Es);if("error"in p){let y;if("data"in p.error&&(y=(o=p.error.data)===null||o===void 0?void 0:o.logs,y&&Array.isArray(y))){const O=`
    `,v=O+y.join(O);console.error(p.error.message,v)}throw new kt("failed to simulate transaction: "+p.error.message,y)}return p.result}function ps(r){return hs(mr(r),Rs,t=>"error"in t?t:{...t,result:qt(t.result,r)})}const Rs=mr(Ft());function mr(r){return Rr([pe({jsonrpc:Pn("2.0"),id:Oe(),result:r}),pe({jsonrpc:Pn("2.0"),id:Oe(),error:pe({code:Ft(),message:Oe(),data:at(ls())})})])}function ms(r){return ps(pe({context:pe({slot:ot()}),value:r}))}const Es=ms(pe({err:et(Rr([pe({}),Oe()])),logs:et(Tt(Oe())),accounts:at(et(Tt(et(pe({executable:ds(),owner:Oe(),lamports:ot(),data:Tt(Oe()),rentEpoch:at(ot())}))))),unitsConsumed:at(ot())}));class Se{constructor(t,e,n=Se.defaultOptions()){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e==null?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=Se.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var i,o,s,a;if(n===void 0&&(n=this.opts),ye(t))e&&t.sign(e);else if(t.feePayer=(i=t.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const l of e)t.partialSign(l);t=await this.wallet.signTransaction(t);const _=t.serialize();try{return await Hn(this.connection,_,n)}catch(l){if(l instanceof Pt){const d=Dn(ye(t)?((o=t.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=t.signature)!==null&&s!==void 0?s:new Uint8Array),A=ye(t)?0:void 0,E=await this.connection.getTransaction(d,{commitment:"confirmed",maxSupportedTransactionVersion:A});if(E){const p=(a=E.meta)===null||a===void 0?void 0:a.logMessages;throw p?new kt(l.message,p):l}else throw l}else throw l}}async sendAll(t,e){var n,i,o;e===void 0&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map(d=>{var A,E;if(ye(d.tx)){let p=d.tx;return d.signers&&p.sign(d.signers),p}else{let p=d.tx,y=(A=d.signers)!==null&&A!==void 0?A:[];return p.feePayer=(E=p.feePayer)!==null&&E!==void 0?E:this.wallet.publicKey,p.recentBlockhash=s,y.forEach(O=>{p.partialSign(O)}),p}});const _=await this.wallet.signAllTransactions(a),l=[];for(let d=0;d<a.length;d+=1){const A=_[d],E=A.serialize();try{l.push(await Hn(this.connection,E,e))}catch(p){if(p instanceof Pt){const y=Dn(ye(A)?((n=A.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(i=A.signature)!==null&&i!==void 0?i:new Uint8Array),O=ye(A)?0:void 0,v=await this.connection.getTransaction(y,{commitment:"confirmed",maxSupportedTransactionVersion:O});if(v){const N=(o=v.meta)===null||o===void 0?void 0:o.logMessages;throw N?new kt(p.message,N):p}else throw p}else throw p}}return l}async simulate(t,e,n,i){let o=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,s;if(ye(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),s=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),s=await _s(this.connection,t,e,n,i)),s.value.err)throw new gs(s.value);return s.value}}class gs extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function Hn(r,t,e){const n=e?{skipPreflight:e.skipPreflight,preflightCommitment:e.preflightCommitment||e.commitment,maxRetries:e.maxRetries,minContextSlot:e.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await r.sendRawTransaction(t,n);if(e!=null&&e.blockhash)if(n.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await r.confirmTransaction({abortSignal:a,signature:s,...e.blockhash},e&&e.commitment)).value}else i=(await r.confirmTransaction({signature:s,...e.blockhash},e&&e.commitment)).value;else i=(await r.confirmTransaction(s,e&&e.commitment)).value;if(i.err)throw new Pt(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class Pt extends Error{constructor(t){super(t)}}function Bn(r){Ut=r}function Mt(){return Ut===null?Se.local():Ut}let Ut=null;var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Zt<"u"?Zt:typeof self<"u"?self:{},m={};Object.defineProperty(m,"__esModule",{value:!0});var Er=m.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=_i=m.ANCHOR_ERROR__REQUIRE_VIOLATED=fi=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=hi=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=di=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=li=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=ui=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=ci=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=si=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=ai=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=oi=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=ii=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=ri=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=ni=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=ti=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=ei=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Jr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Qr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Zr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Yr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Wr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Xr=m.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=jr=m.ANCHOR_ERROR__CONSTRAINT_SPACE=Kr=m.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Fr=m.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=qr=m.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=zr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=$r=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Vr=m.ANCHOR_ERROR__CONSTRAINT_ZERO=Gr=m.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Br=m.ANCHOR_ERROR__CONSTRAINT_CLOSE=Hr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Ur=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Mr=m.ANCHOR_ERROR__CONSTRAINT_STATE=Pr=m.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Lr=m.ANCHOR_ERROR__CONSTRAINT_SEEDS=Dr=m.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=xr=m.ANCHOR_ERROR__CONSTRAINT_OWNER=kr=m.ANCHOR_ERROR__CONSTRAINT_RAW=Sr=m.ANCHOR_ERROR__CONSTRAINT_SIGNER=Cr=m.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=Ir=m.ANCHOR_ERROR__CONSTRAINT_MUT=br=m.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=vr=m.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=Tr=m.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=Nr=m.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=Or=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=Ar=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=wr=m.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=yr=m.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,gr=m.ANCHOR_ERROR__DEPRECATED=Gi=m.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=Bi=m.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=Hi=m.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=Ui=m.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=Mi=m.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Pi=m.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=Li=m.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=Di=m.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=xi=m.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=ki=m.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=Si=m.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=Ci=m.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=Ii=m.ANCHOR_ERROR__INVALID_PROGRAM_ID=bi=m.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=vi=m.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=Ti=m.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=Ni=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=Oi=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=Ai=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=wi=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=yi=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=gi=m.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=Ei=m.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=mi=m.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=Ri=m.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=pi=m.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,yr=m.ANCHOR_ERROR__INSTRUCTION_MISSING=100,wr=m.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Ar=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Or=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Nr=m.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,Tr=m.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,vr=m.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,br=m.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,Ir=m.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Cr=m.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Sr=m.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,kr=m.ANCHOR_ERROR__CONSTRAINT_RAW=2003,xr=m.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Dr=m.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Lr=m.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Pr=m.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Mr=m.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Ur=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Hr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Br=m.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Gr=m.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Vr=m.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,$r=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,zr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,qr=m.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Fr=m.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Kr=m.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,jr=m.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Xr=m.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Wr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Yr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Zr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Qr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Jr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,ei=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ti=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,ni=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,ri=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,ii=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,oi=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,ai=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,si=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,ci=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,ui=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,li=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,di=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,hi=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,fi=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,_i=m.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Er=m.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var pi=m.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,Ri=m.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,mi=m.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Ei=m.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,gi=m.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,yi=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,wi=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Ai=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Oi=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Ni=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,Ti=m.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,vi=m.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,bi=m.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,Ii=m.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Ci=m.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,Si=m.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,ki=m.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,xi=m.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Di=m.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Li=m.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Pi=m.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,Mi=m.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,Ui=m.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Hi=m.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Bi=m.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,Gi=m.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;gr=m.ANCHOR_ERROR__DEPRECATED=5e3;const ws=new Map;function Vi(r){return ws.get(r)!==void 0}class fe extends Error{constructor(t){super(t),this.name="IdlError"}}class Fe{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let s=0;s<t.length;s++){if(i.exec(t[s])){o.pop();continue}const a=(e=n.exec(t[s]))===null||e===void 0?void 0:e[1];a&&o.push(new Y(a))}return new Fe(o)}}class Ge extends Error{constructor(t,e,n,i,o,s){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:t,errorMessage:e,comparedValues:s,origin:o},this._programErrorStack=Fe.parse(i)}static parse(t){if(!t)return null;const e=t.findIndex(E=>E.startsWith("Program log: AnchorError"));if(e===-1)return null;const n=t[e],i=[n];let o;if(e+1<t.length){if(t[e+1]==="Program log: Left:"){const E=/^Program log: (.*)$/,p=E.exec(t[e+2])[1],y=E.exec(t[e+4])[1];o=[new Y(p),new Y(y)],i.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const E=/^Program log: (Left|Right): (.*)$/,p=E.exec(t[e+1])[2],y=E.exec(t[e+2])[2];i.push(...t.slice(e+1,e+3)),o=[p,y]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),l=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),A=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[E,p,y]=a.slice(1,4),O={code:E,number:parseInt(p)};return new Ge(O,y,i,t,void 0,o)}else if(l){const[E,p,y,O,v]=l.slice(1,6),N={code:y,number:parseInt(O)},M={file:E,line:parseInt(p)};return new Ge(N,v,i,t,M,o)}else if(A){const[E,p,y,O]=A.slice(1,5),v=E,N={code:p,number:parseInt(y)};return new Ge(N,O,i,t,v,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ct extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=Fe.parse(n))}static parse(t,e){const n=t.toString();let i;if(n.includes("custom program error:")){let a=n.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=n.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let s=e.get(o);return s!==void 0?new ct(o,s,t.logs):(s=As.get(o),s!==void 0?new ct(o,s,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function $i(r,t){Vi("debug-logs")&&console.log("Translating error:",r);const e=Ge.parse(r.logs);if(e)return e;const n=ct.parse(r,t);if(n)return n;if(r.logs){const i={get:function(o,s){return s==="programErrorStack"?o.programErrorStack.stack:s==="program"?o.programErrorStack.stack[r.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return r.programErrorStack=Fe.parse(r.logs),new Proxy(r,i)}return r}const I={InstructionMissing:yr,InstructionFallbackNotFound:wr,InstructionDidNotDeserialize:Ar,InstructionDidNotSerialize:Or,IdlInstructionStub:Nr,IdlInstructionInvalidProgram:Tr,IdlAccountNotEmpty:vr,EventInstructionStub:br,ConstraintMut:Ir,ConstraintHasOne:Cr,ConstraintSigner:Sr,ConstraintRaw:kr,ConstraintOwner:xr,ConstraintRentExempt:Dr,ConstraintSeeds:Lr,ConstraintExecutable:Pr,ConstraintState:Mr,ConstraintAssociated:Ur,ConstraintAssociatedInit:Hr,ConstraintClose:Br,ConstraintAddress:Gr,ConstraintZero:Vr,ConstraintTokenMint:$r,ConstraintTokenOwner:zr,ConstraintMintMintAuthority:qr,ConstraintMintFreezeAuthority:Fr,ConstraintMintDecimals:Kr,ConstraintSpace:jr,ConstraintAccountIsNone:Xr,ConstraintTokenTokenProgram:Wr,ConstraintMintTokenProgram:Yr,ConstraintAssociatedTokenTokenProgram:Zr,ConstraintMintGroupPointerExtension:Qr,ConstraintMintGroupPointerExtensionAuthority:Jr,ConstraintMintGroupPointerExtensionGroupAddress:ei,ConstraintMintGroupMemberPointerExtension:ti,ConstraintMintGroupMemberPointerExtensionAuthority:ni,ConstraintMintGroupMemberPointerExtensionMemberAddress:ri,ConstraintMintMetadataPointerExtension:ii,ConstraintMintMetadataPointerExtensionAuthority:oi,ConstraintMintMetadataPointerExtensionMetadataAddress:ai,ConstraintMintCloseAuthorityExtension:si,ConstraintMintCloseAuthorityExtensionAuthority:ci,ConstraintMintPermanentDelegateExtension:ui,ConstraintMintPermanentDelegateExtensionDelegate:li,ConstraintMintTransferHookExtension:di,ConstraintMintTransferHookExtensionAuthority:hi,ConstraintMintTransferHookExtensionProgramId:fi,RequireViolated:_i,RequireEqViolated:Er,RequireKeysEqViolated:pi,RequireNeqViolated:Ri,RequireKeysNeqViolated:mi,RequireGtViolated:Ei,RequireGteViolated:gi,AccountDiscriminatorAlreadySet:yi,AccountDiscriminatorNotFound:wi,AccountDiscriminatorMismatch:Ai,AccountDidNotDeserialize:Oi,AccountDidNotSerialize:Ni,AccountNotEnoughKeys:Ti,AccountNotMutable:vi,AccountOwnedByWrongProgram:bi,InvalidProgramId:Ii,InvalidProgramExecutable:Ci,AccountNotSigner:Si,AccountNotSystemOwned:ki,AccountNotInitialized:xi,AccountNotProgramData:Di,AccountNotAssociatedTokenAccount:Li,AccountSysvarMismatch:Pi,AccountReallocExceedsLimit:Mi,AccountDuplicateReallocs:Ui,DeclaredProgramIdMismatch:Hi,TryingToInitPayerAsProgramAccount:Bi,InvalidNumericConversion:Gi,Deprecated:gr},As=new Map([[I.InstructionMissing,"Instruction discriminator not provided"],[I.InstructionFallbackNotFound,"Fallback functions are not supported"],[I.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[I.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[I.IdlInstructionStub,"The program was compiled without idl instructions"],[I.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[I.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[I.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[I.ConstraintMut,"A mut constraint was violated"],[I.ConstraintHasOne,"A has one constraint was violated"],[I.ConstraintSigner,"A signer constraint was violated"],[I.ConstraintRaw,"A raw constraint was violated"],[I.ConstraintOwner,"An owner constraint was violated"],[I.ConstraintRentExempt,"A rent exemption constraint was violated"],[I.ConstraintSeeds,"A seeds constraint was violated"],[I.ConstraintExecutable,"An executable constraint was violated"],[I.ConstraintState,"Deprecated Error, feel free to replace with something else"],[I.ConstraintAssociated,"An associated constraint was violated"],[I.ConstraintAssociatedInit,"An associated init constraint was violated"],[I.ConstraintClose,"A close constraint was violated"],[I.ConstraintAddress,"An address constraint was violated"],[I.ConstraintZero,"Expected zero account discriminant"],[I.ConstraintTokenMint,"A token mint constraint was violated"],[I.ConstraintTokenOwner,"A token owner constraint was violated"],[I.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[I.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[I.ConstraintMintDecimals,"A mint decimals constraint was violated"],[I.ConstraintSpace,"A space constraint was violated"],[I.ConstraintAccountIsNone,"A required account for the constraint is None"],[I.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[I.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[I.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[I.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[I.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[I.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[I.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[I.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[I.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[I.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[I.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[I.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[I.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[I.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[I.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[I.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[I.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[I.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[I.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[I.RequireViolated,"A require expression was violated"],[I.RequireEqViolated,"A require_eq expression was violated"],[I.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[I.RequireNeqViolated,"A require_neq expression was violated"],[I.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[I.RequireGtViolated,"A require_gt expression was violated"],[I.RequireGteViolated,"A require_gte expression was violated"],[I.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[I.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[I.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[I.AccountDidNotDeserialize,"Failed to deserialize the account"],[I.AccountDidNotSerialize,"Failed to serialize the account"],[I.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[I.AccountNotMutable,"The given account is not mutable"],[I.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[I.InvalidProgramId,"Program ID was not as expected"],[I.InvalidProgramExecutable,"Program account is not executable"],[I.AccountNotSigner,"The given account did not sign"],[I.AccountNotSystemOwned,"The given account is not owned by the system program"],[I.AccountNotInitialized,"The program expected this account to be already initialized"],[I.AccountNotProgramData,"The given account is not a program data account"],[I.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[I.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[I.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[I.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[I.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[I.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[I.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[I.Deprecated,"The API being used is deprecated and should no longer be used"]]);class ${static fieldLayout(t,e=[],n){const i=t.name;switch(t.type){case"bool":return V.bool(i);case"u8":return V.u8(i);case"i8":return V.i8(i);case"u16":return V.u16(i);case"i16":return V.i16(i);case"u32":return V.u32(i);case"i32":return V.i32(i);case"f32":return V.f32(i);case"u64":return V.u64(i);case"i64":return V.i64(i);case"f64":return V.f64(i);case"u128":return V.u128(i);case"i128":return V.i128(i);case"u256":return V.u256(i);case"i256":return V.i256(i);case"bytes":return V.vecU8(i);case"string":return V.str(i);case"pubkey":return V.publicKey(i);default:{if("option"in t.type)return V.option($.fieldLayout({type:t.type.option},e,n),i);if("vec"in t.type)return V.vec($.fieldLayout({type:t.type.vec},e,n),i);if("array"in t.type){let[o,s]=t.type.array;return s=$.resolveArrayLen(s,n),V.array($.fieldLayout({type:o},e,n),s,i)}if("defined"in t.type){if(!e)throw new fe("User defined types not provided");const o=t.type.defined.name,s=e.find(a=>a.name===o);if(!s)throw new fe(`Type not found: ${t.name}`);return $.typeDefLayout({typeDef:s,types:e,genericArgs:n??t.type.defined.generics,name:i})}if("generic"in t.type){const o=n==null?void 0:n.at(0);if((o==null?void 0:o.kind)!=="type")throw new fe(`Invalid generic field: ${t.name}`);return $.fieldLayout({...t,type:o.type},e)}throw new fe(`Not yet implemented: ${JSON.stringify(t.type)}`)}}}static typeDefLayout({typeDef:t,types:e,name:n,genericArgs:i}){switch(t.type.kind){case"struct":{const o=Ie(t.type.fields,()=>[],s=>s.map(a=>{const _=i&&$.resolveGenericArgs({type:a.type,typeDef:t,genericArgs:i});return $.fieldLayout(a,e,_)}),s=>s.map((a,_)=>{const l=i&&$.resolveGenericArgs({type:a,typeDef:t,genericArgs:i});return $.fieldLayout({name:_.toString(),type:a},e,l)}));return V.struct(o,n)}case"enum":{const o=t.type.variants.map(s=>{const a=Ie(s.fields,()=>[],_=>_.map(l=>{const d=i&&$.resolveGenericArgs({type:l.type,typeDef:t,genericArgs:i});return $.fieldLayout(l,e,d)}),_=>_.map((l,d)=>{const A=i&&$.resolveGenericArgs({type:l,typeDef:t,genericArgs:i});return $.fieldLayout({name:d.toString(),type:l},e,A)}));return V.struct(a,s.name)});return n!==void 0?V.rustEnum(o).replicate(n):V.rustEnum(o,n)}case"type":return $.fieldLayout({type:t.type.alias,name:n},e)}}static typeSize(t,e,n){var i;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in t)return 1+$.typeSize(t.option,e,n);if("coption"in t)return 4+$.typeSize(t.coption,e,n);if("vec"in t)return 1;if("array"in t){let[o,s]=t.array;return s=$.resolveArrayLen(s,n),$.typeSize(o,e,n)*s}if("defined"in t){const o=(i=e.types)===null||i===void 0?void 0:i.find(a=>a.name===t.defined.name);if(!o)throw new fe(`Type not found: ${JSON.stringify(t)}`);const s=a=>{const _=n??t.defined.generics,l=_&&$.resolveGenericArgs({type:a,typeDef:o,genericArgs:_});return $.typeSize(a,e,l)};switch(o.type.kind){case"struct":return Ie(o.type.fields,()=>[0],a=>a.map(_=>s(_.type)),a=>a.map(_=>s(_))).reduce((a,_)=>a+_,0);case"enum":{const a=o.type.variants.map(_=>Ie(_.fields,()=>[0],l=>l.map(d=>s(d.type)),l=>l.map(d=>s(d))).reduce((l,d)=>l+d,0));return Math.max(...a)+1}case"type":return $.typeSize(o.type.alias,e,n)}}if("generic"in t){const o=n==null?void 0:n.at(0);if((o==null?void 0:o.kind)!=="type")throw new fe(`Invalid generic: ${t.generic}`);return $.typeSize(o.type,e,n)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,e){if(typeof t=="number")return t;if(e){const n=e.find(i=>i.kind==="const");(n==null?void 0:n.kind)==="const"&&(t=+n.value)}if(typeof t!="number")throw new fe("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:e,genericArgs:n,isDefined:i}){if(typeof t!="object")return null;for(const o in e.generics){const s=e.generics[o];if("generic"in t&&s.name===t.generic)return[n[o]];if("option"in t){const a=$.resolveGenericArgs({type:t.option,typeDef:e,genericArgs:n,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in t){const a=$.resolveGenericArgs({type:t.vec,typeDef:e,genericArgs:n,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in t){const[a,_]=t.array,l=typeof _=="object",d=$.resolveGenericArgs({type:a,typeDef:e,genericArgs:n,isDefined:i});if(d){for(const A in e.generics.slice(+o)){const E=+o+ +A;l&&e.generics[E].name===_.generic&&d.push(n[E])}if(!i)return d;if(d[0].kind==="type"&&d[1].kind==="const")return[{kind:"type",type:{array:[d[0].type,+d[1].value]}}]}if(l&&s.name===_.generic){const A=n[o];return i?[{kind:"type",type:{array:[a,+A.value]}}]:[A]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap(a=>{switch(a.kind){case"type":return $.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:n,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class Os{constructor(t){this.idl=t;const e=t.instructions.map(n=>{const i=n.name,o=n.args.map(a=>$.fieldLayout(a,t.types)),s=V.struct(o,i);return[i,{discriminator:n.discriminator,layout:s}]});this.ixLayouts=new Map(e)}encode(t,e){const n=te.Buffer.alloc(1e3),i=this.ixLayouts.get(t);if(!i)throw new Error(`Unknown method: ${t}`);const o=i.layout.encode(e,n),s=n.slice(0,o);return te.Buffer.concat([te.Buffer.from(i.discriminator),s])}decode(t,e="hex"){typeof t=="string"&&(t=e==="hex"?te.Buffer.from(t,"hex"):Vt.decode(t));for(const[n,i]of this.ixLayouts){const o=t.subarray(0,i.discriminator.length);if(o.equals(te.Buffer.from(i.discriminator)))return{name:n,data:i.layout.decode(t.subarray(o.length))}}return null}format(t,e){return ee.format(t,e,this.idl)}}class ee{static format(t,e,n){const i=n.instructions.find(_=>t.name===_.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(_=>({name:_.name,type:ee.formatIdlType(_.type),data:ee.formatIdlData(_,t.data[_.name],n.types)})),s=ee.flattenIdlAccounts(i.accounts),a=e.map((_,l)=>l<s.length?{name:s[l].name,..._}:{name:void 0,..._});return{args:o,accounts:a}}static formatIdlType(t){if(typeof t=="string")return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const e=t.defined.name;if(t.defined.generics){const n=t.defined.generics.map(i=>{switch(i.kind){case"type":return ee.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${e}<${n}>`}return e}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if(typeof t.type=="string")return e.toString();if("vec"in t.type)return"["+e.map(i=>this.formatIdlData({name:"",type:t.type.vec},i,n)).join(", ")+"]";if("option"in t.type)return e===null?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if("defined"in t.type){if(!n)throw new Error("User defined types not provided");const i=t.type.defined.name,o=n.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return ee.formatIdlDataDefined(o,e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){switch(t.type.kind){case"struct":return"{ "+Ie(t.type.fields,()=>"",i=>Object.entries(e).map(([o,s])=>{const a=i.find(_=>_.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+ee.formatIdlData(a,s,n)}).join(", "),i=>Object.entries(e).map(([o,s])=>o+": "+ee.formatIdlData({name:"",type:i[o]},s,n)).join(", "))+" }";case"enum":{const i=Object.keys(e)[0],o=t.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=e[i];return Ie(o.fields,()=>i,a=>{const _=Object.keys(s).map(l=>{const d=s[l],A=a.find(E=>E.name===l);if(!A)throw new Error(`Field not found: ${l}`);return l+": "+ee.formatIdlData(A,d,n)}).join(", ");return`${i} { ${_} }`},a=>{const _=Object.entries(s).map(([l,d])=>l+": "+ee.formatIdlData({name:"",type:a[l]},d,n)).join(", ");return`${i} { ${_} }`})}case"type":return ee.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,e){return t.map(n=>{const i=Ns(n.name);if(n.hasOwnProperty("accounts")){const o=e?`${e} > ${i}`:i;return ee.flattenIdlAccounts(n.accounts,o)}else return{...n,name:e?`${e} > ${i}`:i}}).flat()}}function Ns(r){const t=r.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class Ts{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const e=t.types;if(!e)throw new Error("Accounts require `idl.types`");const n=t.accounts.map(i=>{const o=e.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:$.typeDefLayout({typeDef:o,types:e})}]});this.accountLayouts=new Map(n)}async encode(t,e){const n=te.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.layout.encode(e,n),s=n.slice(0,o),a=this.accountDiscriminator(t);return te.Buffer.concat([a,s])}decode(t,e){const n=this.accountDiscriminator(t);if(n.compare(e.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){for(const[e,n]of this.accountLayouts)if(t.subarray(0,n.discriminator.length).equals(te.Buffer.from(n.discriminator)))return this.decodeUnchecked(e,t);throw new Error("Account not found")}decodeUnchecked(t,e){const n=this.accountDiscriminator(t),i=e.subarray(n.length),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);return o.layout.decode(i)}memcmp(t,e){const n=this.accountDiscriminator(t);return{offset:0,bytes:Vt.encode(e?te.Buffer.concat([n,e]):n)}}size(t){return this.accountDiscriminator(t).length+$.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var e;const n=(e=this.idl.accounts)===null||e===void 0?void 0:e.find(i=>i.name===t);if(!n)throw new Error(`Account not found: ${t}`);return te.Buffer.from(n.discriminator)}}class vs{constructor(t){if(!t.events){this.layouts=new Map;return}const e=t.types;if(!e)throw new Error("Events require `idl.types`");const n=t.events.map(i=>{const o=e.find(s=>s.name===i.name);if(!o)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:$.typeDefLayout({typeDef:o,types:e})}]});this.layouts=new Map(n)}decode(t){let e;try{e=fr(t)}catch{return null}for(const[n,i]of this.layouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(te.Buffer.from(i.discriminator)))return{name:n,data:i.layout.decode(e.subarray(o.length))}}return null}}class bs{constructor(t){const e=t.types;if(!e){this.typeLayouts=new Map;return}const n=e.filter(i=>!i.generics).map(i=>[i.name,$.typeDefLayout({typeDef:i,types:e})]);this.typeLayouts=new Map(n)}encode(t,e){const n=te.Buffer.alloc(1e3),i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);const o=i.encode(e,n);return n.slice(0,o)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class zi{constructor(t){this.instruction=new Os(t),this.accounts=new Ts(t),this.events=new vs(t),this.types=new bs(t)}}class J{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var ft=J;function Is(r,t){return t.property?r+"["+t.property+"]":r}class Ne extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class qi extends Ne{constructor(t,e,n){if(!(t instanceof J))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof _t||this.layout instanceof Fi}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return n===void 0&&(n=0),this.layout.encode(t,e,n+this.offset)}}class _t extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class Fi extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Ht=Math.pow(2,32);function Ki(r){const t=Math.floor(r/Ht),e=r-t*Ht;return{hi32:t,lo32:e}}function ji(r,t){return r*Ht+t}class Cs extends J{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),i=t.readUInt32LE(e+4);return ji(i,n)}encode(t,e,n){n===void 0&&(n=0);const i=Ki(t);return e.writeUInt32LE(i.lo32,n),e.writeUInt32LE(i.hi32,n+4),8}}class Ss extends J{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),i=t.readInt32LE(e+4);return ji(i,n)}encode(t,e,n){n===void 0&&(n=0);const i=Ki(t);return e.writeUInt32LE(i.lo32,n),e.writeInt32LE(i.hi32,n+4),8}}class ks extends J{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((o,s)=>o&&s instanceof J,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;try{n=this.fields.reduce((i,o)=>{const s=o.getSpan(t,e);return e+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e){e===void 0&&(e=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){n===void 0&&(n=0);const i=n;let o=0,s=0;for(const a of this.fields){let _=a.span;if(s=0<_?_:0,a.property!==void 0){const l=t[a.property];l!==void 0&&(s=a.encode(l,e,n),0>_&&(_=a.getSpan(e,n)))}o=n,n+=_}return o+s-i}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class Xi{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Gn extends Xi{constructor(t,e){if(!(t instanceof Ne&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Wi extends J{constructor(t,e,n){const i=t instanceof _t||t instanceof Fi;if(i)t=new Gn(new qi(t));else if(t instanceof Ne&&t.isCount())t=new Gn(t);else if(!(t instanceof Xi))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&i&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=i,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){e===void 0&&(e=0);let n;const i=this.discriminator,o=i.decode(t,e);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(t,e+a)}else n=s.decode(t,e);return n}encode(t,e,n){n===void 0&&(n=0);const i=this.getSourceVariant(t);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(t[o.property],e,n),a+s.encode(t[s.property],e,n+a)}return i.encode(t,e,n)}addVariant(t,e,n){const i=new xs(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e){let n=t;return j.isBuffer(t)&&(e===void 0&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class xs extends J{constructor(t,e,n,i){if(!(t instanceof Wi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),o+=this.layout.getSpan(e,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Ds extends J{constructor(t,e){if(!(t instanceof Ne&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Ne||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){e===void 0&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof Ne&&(i=t.length),!(j.isBuffer(t)&&i===t.length))throw new TypeError(Is("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,i,"hex"),this.length instanceof Ne&&this.length.encode(i,e,n),i}}var Ls=(r,t,e)=>new qi(r,t,e),Ps=r=>new _t(1,r),le=r=>new _t(4,r),Ms=r=>new Cs(r),de=r=>new Ss(r),Q=(r,t,e)=>new ks(r,t,e),Yi=(r,t,e)=>new Wi(r,t,e),Ke=(r,t)=>new Ds(r,t);class Us extends ft{constructor(t){super(-1,t),this.property=t,this.layout=Q([le("length"),le("lengthPadding"),Ke(Ls(le(),-8),"chars")],this.property)}encode(t,e,n=0){if(t==null)return this.layout.span;const i={chars:j.from(t,"utf8")};return this.layout.encode(i,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return le().span+le().span+new Z(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function pt(r){return new Us(r)}function ie(r){return Ke(32,r)}const ne=Yi(le("instruction"));ne.addVariant(0,Q([de("lamports"),de("space"),ie("owner")]),"createAccount");ne.addVariant(1,Q([ie("owner")]),"assign");ne.addVariant(2,Q([de("lamports")]),"transfer");ne.addVariant(3,Q([ie("base"),pt("seed"),de("lamports"),de("space"),ie("owner")]),"createAccountWithSeed");ne.addVariant(4,Q([ie("authorized")]),"advanceNonceAccount");ne.addVariant(5,Q([de("lamports")]),"withdrawNonceAccount");ne.addVariant(6,Q([ie("authorized")]),"initializeNonceAccount");ne.addVariant(7,Q([ie("authorized")]),"authorizeNonceAccount");ne.addVariant(8,Q([de("space")]),"allocate");ne.addVariant(9,Q([ie("base"),pt("seed"),de("space"),ie("owner")]),"allocateWithSeed");ne.addVariant(10,Q([ie("base"),pt("seed"),ie("owner")]),"assignWithSeed");ne.addVariant(11,Q([de("lamports"),pt("seed"),ie("owner")]),"transferWithSeed");Math.max(...Object.values(ne.registry).map(r=>r.span));class Hs extends ft{constructor(t,e,n,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function Vn(r){return new Hs(Ke(32),t=>new Y(t),t=>t.toBuffer(),r)}Q([le("version"),le("state"),Vn("authorizedPubkey"),Vn("nonce"),Q([Ms("lamportsPerSignature")],"feeCalculator")]);new Y("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Y("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var $n={exports:{}};(function(r,t){var e=typeof self<"u"?self:ys,n=function(){function o(){this.fetch=!1,this.DOMException=e.DOMException}return o.prototype=e,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function _(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(f){return f&&l.indexOf(Object.prototype.toString.call(f))>-1};function A(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function E(f){return typeof f!="string"&&(f=String(f)),f}function p(f){var g={next:function(){var k=f.shift();return{done:k===void 0,value:k}}};return a.iterable&&(g[Symbol.iterator]=function(){return g}),g}function y(f){this.map={},f instanceof y?f.forEach(function(g,k){this.append(k,g)},this):Array.isArray(f)?f.forEach(function(g){this.append(g[0],g[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(g){this.append(g,f[g])},this)}y.prototype.append=function(f,g){f=A(f),g=E(g);var k=this.map[f];this.map[f]=k?k+", "+g:g},y.prototype.delete=function(f){delete this.map[A(f)]},y.prototype.get=function(f){return f=A(f),this.has(f)?this.map[f]:null},y.prototype.has=function(f){return this.map.hasOwnProperty(A(f))},y.prototype.set=function(f,g){this.map[A(f)]=E(g)},y.prototype.forEach=function(f,g){for(var k in this.map)this.map.hasOwnProperty(k)&&f.call(g,this.map[k],k,this)},y.prototype.keys=function(){var f=[];return this.forEach(function(g,k){f.push(k)}),p(f)},y.prototype.values=function(){var f=[];return this.forEach(function(g){f.push(g)}),p(f)},y.prototype.entries=function(){var f=[];return this.forEach(function(g,k){f.push([k,g])}),p(f)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function O(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function v(f){return new Promise(function(g,k){f.onload=function(){g(f.result)},f.onerror=function(){k(f.error)}})}function N(f){var g=new FileReader,k=v(g);return g.readAsArrayBuffer(f),k}function M(f){var g=new FileReader,k=v(g);return g.readAsText(f),k}function L(f){for(var g=new Uint8Array(f),k=new Array(g.length),z=0;z<g.length;z++)k[z]=String.fromCharCode(g[z]);return k.join("")}function T(f){if(f.slice)return f.slice(0);var g=new Uint8Array(f.byteLength);return g.set(new Uint8Array(f)),g.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&_(f)?(this._bodyArrayBuffer=T(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||d(f))?this._bodyArrayBuffer=T(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=O(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var f=O(this);if(f)return f;if(this._bodyBlob)return M(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(f){var g=f.toUpperCase();return F.indexOf(g)>-1?g:f}function B(f,g){g=g||{};var k=g.body;if(f instanceof B){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,g.headers||(this.headers=new y(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!k&&f._bodyInit!=null&&(k=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new y(g.headers)),this.method=D(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function G(f){var g=new FormData;return f.trim().split("&").forEach(function(k){if(k){var z=k.split("="),X=z.shift().replace(/\+/g," "),R=z.join("=").replace(/\+/g," ");g.append(decodeURIComponent(X),decodeURIComponent(R))}}),g}function U(f){var g=new y,k=f.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(z){var X=z.split(":"),R=X.shift().trim();if(R){var c=X.join(":").trim();g.append(R,c)}}),g}H.call(B.prototype);function P(f,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new y(g.headers),this.url=g.url||"",this._initBody(f)}H.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},P.error=function(){var f=new P(null,{status:0,statusText:""});return f.type="error",f};var x=[301,302,303,307,308];P.redirect=function(f,g){if(x.indexOf(g)===-1)throw new RangeError("Invalid status code");return new P(null,{status:g,headers:{location:f}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(g,k){this.message=g,this.name=k;var z=Error(g);this.stack=z.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(f,g){return new Promise(function(k,z){var X=new B(f,g);if(X.signal&&X.signal.aborted)return z(new s.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function c(){R.abort()}R.onload=function(){var u={status:R.status,statusText:R.statusText,headers:U(R.getAllResponseHeaders()||"")};u.url="responseURL"in R?R.responseURL:u.headers.get("X-Request-URL");var h="response"in R?R.response:R.responseText;k(new P(h,u))},R.onerror=function(){z(new TypeError("Network request failed"))},R.ontimeout=function(){z(new TypeError("Network request failed"))},R.onabort=function(){z(new s.DOMException("Aborted","AbortError"))},R.open(X.method,X.url,!0),X.credentials==="include"?R.withCredentials=!0:X.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&a.blob&&(R.responseType="blob"),X.headers.forEach(function(u,h){R.setRequestHeader(h,u)}),X.signal&&(X.signal.addEventListener("abort",c),R.onreadystatechange=function(){R.readyState===4&&X.signal.removeEventListener("abort",c)}),R.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=y,o.Request=B,o.Response=P),s.Headers=y,s.Request=B,s.Response=P,s.fetch=b,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,r.exports=t})($n,$n.exports);V.rustEnum([V.struct([],"uninitialized"),V.struct([V.option(V.publicKey(),"authorityAddress")],"buffer"),V.struct([V.publicKey("programdataAddress")],"program"),V.struct([V.u64("slot"),V.option(V.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,V.u32());const Bt="Program log: ",Zi="Program data: ",Bs=Bt.length,Gs=Zi.length;class Vs{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Qi(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e,n){var i;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((i=this._eventListeners.get(t))!==null&&i!==void 0?i:[]).concat(o)),this._eventCallbacks.set(o,[t,e]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{if(!s.err)for(const _ of this._eventParser.parseLogs(s.logs)){const l=this._eventListeners.get(_.name);l&&l.forEach(d=>{const A=this._eventCallbacks.get(d);if(A){const[,E]=A;E(_.data,a.slot,s.signature)}})}},n)),o}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(t),i=i.filter(o=>o!==t),this._eventListeners.set(n,i),i.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Qi{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new zs(t),i=new $s;let o=n.next();for(;o!==null;){let[s,a,_]=this.handleLog(i,o,e);s&&(yield s),a&&i.push(a),_&&i.pop(),o=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(Bt)||t.startsWith(Zi)){const n=t.startsWith(Bt)?t.slice(Bs):t.slice(Gs),i=this.coder.events.decode(n);if(e&&i===null)throw new Error(`Unable to decode event ${n}`);return[i,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return e.match(/^Program (.*) success/g)!==null?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class $s{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class zs{constructor(t){this.logs=t}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}function Rt(r,t){var e,n;let i={};const o=r.args?r.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${r==null?void 0:r.name} expecting: ${(n=(e=r.args)===null||e===void 0?void 0:e.map(s=>s.name))!==null&&n!==void 0?n:[]}`);i=t.pop()}return[t,i]}class ut{static build(t,e,n){if(t.name==="_inner")throw new fe("the _inner name is reserved");const i=(...o)=>{const[s,a]=Rt(t,[...o]);_r(t.accounts,a.accounts),qs(t,...o);const _=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&_.push(...a.remainingAccounts),Vi("debug-logs")&&console.log("Outgoing account metas:",_),new Eo({keys:_,programId:n,data:e(t.name,rs(t,...s))})};return i.accounts=o=>ut.accountsArray(o,t.accounts,n,t.name),i}static accountsArray(t,e,n,i){return t?e.map(o=>{if(_e(o)){const d=t[o.name];return ut.accountsArray(d,o.accounts,n,i).flat()}let s;try{s=oe(t[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const a=o.optional&&s.equals(n),_=!!(o.writable&&!a),l=!!(o.signer&&!a);return{pubkey:s,isWritable:_,isSigner:l}}).flat():[]}}function qs(r,...t){}class Fs{static build(t,e){return(...i)=>{var o,s,a;const[,_]=Rt(t,[...i]),l=new $t;if(_.preInstructions&&_.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=_.preInstructions)===null||o===void 0||o.forEach(d=>l.add(d)),(s=_.instructions)===null||s===void 0||s.forEach(d=>l.add(d)),l.add(e(...i)),(a=_.postInstructions)===null||a===void 0||a.forEach(d=>l.add(d)),l}}}class Ks{static build(t,e,n,i){return async(...s)=>{var a;const _=e(...s),[,l]=Rt(t,[...s]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(_,(a=l.signers)!==null&&a!==void 0?a:[],l.options)}catch(d){throw $i(d,n)}}}}class js{static build(t,e,n,i){var o;return((o=t.accounts)!==null&&o!==void 0?o:[]).reduce((s,a)=>(s[a.name]=new Xs(t,a,n,i,e),s),{})}}class Xs{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,e,n,i,o){this._idlAccount=e,this._programId=n,this._provider=i??Mt(),this._coder=o??new zi(t),this._size=this._coder.accounts.size(e.name)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:i,context:o}=n;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:i}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:i}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map(i=>i?i.data:null)}async fetchMultipleAndContext(t,e){return(await fs(this._provider.connection,t.map(i=>oe(i)),e)).map(i=>{if(i==null)return null;const{account:o,context:s}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:s}})}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof j?t:void 0),n=[];return(e==null?void 0:e.offset)!=null&&(e==null?void 0:e.bytes)!=null&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),(e==null?void 0:e.dataSize)!=null&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map(({pubkey:o,account:s})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,s.data)}))}subscribe(t,e){const n=Ue.get(t.toString());if(n)return n.ee;const i=new Ro;t=oe(t);const o=this._provider.connection.onAccountChange(t,s=>{const a=this._coder.accounts.decode(this._idlAccount.name,s.data);i.emit("change",a)},e);return Ue.set(t.toString(),{ee:i,listener:o}),i}async unsubscribe(t){let e=Ue.get(t.toString());if(!e){console.warn("Address is not subscribed");return}Ue&&await this._provider.connection.removeAccountChangeListener(e.listener).then(()=>{Ue.delete(t.toString())}).catch(console.error)}async createInstruction(t,e){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return mo.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:e??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(e??n),programId:this._programId})}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(oe(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(oe(t),e)}}const Ue=new Map;class Ws{static build(t,e,n,i,o,s,a){return async(...l)=>{var d;const A=e(...l),[,E]=Rt(t,[...l]);let p;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{p=await i.simulate(A,E.signers,(d=E.options)===null||d===void 0?void 0:d.commitment)}catch(v){throw $i(v,n)}if(p===void 0)throw new Error("Unable to simulate transaction");const y=p.logs;if(!y)throw new Error("Simulated logs not found");const O=[];if(a.events){let v=new Qi(s,o);for(const N of v.parseLogs(y))O.push(N)}return{events:O,raw:y}}}}function vt(r){return new Ji(Ke(8),t=>Kt.fromBuffer(t),t=>t.toBuffer(),r)}function tt(r){return new Ji(Ke(32),t=>new Y(t),t=>t.toBuffer(),r)}function bt(r,t){return new Ys(r,t)}class Ji extends ft{constructor(t,e,n,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Ys extends ft{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=le()}encode(t,e,n=0){return t==null?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(n===0)return null;if(n===1)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Kt extends Z{toBuffer(){const t=super.toArray().reverse(),e=j.from(t);if(e.length===8)return e;if(e.length>=8)throw new Error("u64 too large");const n=j.alloc(8);return e.copy(n),n}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new Kt([...t].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}const Zs=Q([tt("mint"),tt("owner"),vt("amount"),bt(tt(),"delegate"),(r=>{const t=Yi(Ps("discriminator"),null,r);return t.addVariant(0,Q([]),"uninitialized"),t.addVariant(1,Q([]),"initialized"),t.addVariant(2,Q([]),"frozen"),t})("state"),bt(vt(),"isNative"),vt("delegatedAmount"),bt(tt(),"closeAuthority")]);function Qs(r){return Zs.decode(r)}class Js{constructor(t,e,n,i,o,s,a,_){this._args=t,this._accounts=e,this._provider=n,this._programId=i,this._idlIx=o,this._idlTypes=a,this._customResolver=_,this._accountStore=new ec(n,s,i)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,t===16){const e=s=>_e(s)?s.accounts.some(e):!!(s.address||s.pda||s.relations),n=(s,a=[],_=[])=>{for(const l of s)_e(l)?_.push(...n(l.accounts,[...a,l.name])):_.push([...a,l.name]);return _},i=this._idlIx.accounts.filter(e),o=n(i).filter(s=>!this.get(s)).map(s=>s.reduce((a,_)=>a+"."+_)).map(s=>`\`${s}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce((n,i)=>n&&n[i],this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach((i,o)=>{var s;o===t.length-1&&(n[i]=e),n[i]=(s=n[i])!==null&&s!==void 0?s:{},n=n[i]})}resolveOptionalsHelper(t,e){const n={};for(const i of e){const o=i.name,s=t[o];s!==void 0&&(eo(s)?_e(i)?n[o]=this.resolveOptionalsHelper(s,i.accounts):n[o]=to(s):s!==null?n[o]=oe(s):i.optional&&(n[o]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveEventCpi(t,e=[]){for(const n in t){const i=t[n];_e(i)&&this.resolveEventCpi(i.accounts,[...e,i.name]);const o=+n+1;if(o===t.length)return;const s=t[n].name,a=t[o].name;if(s==="eventAuthority"&&a==="program"){const _=[...e,s],l=[...e,a];this.get(_)||this.set(_,Y.findProgramAddressSync([j.from("__event_authority")],this._programId)[0]),this.get(l)||this.set(l,this._programId);return}}}resolveConst(t,e=[]){for(const n of t){const i=n.name;if(_e(n))this.resolveConst(n.accounts,[...e,i]);else{const o=n;if((o.signer||o.address)&&!this.get([...e,i])){if(o.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...e,i],this._provider.wallet.publicKey)}o.address&&this.set([...e,i],oe(o.address))}}}}async resolvePdasAndRelations(t,e=[]){let n=0;for(const i of t){const o=i.name;if(_e(i))n+=await this.resolvePdasAndRelations(i.accounts,[...e,o]);else{const s=i;if((s.pda||s.relations)&&!this.get([...e,o])){n++;try{if(s.pda){const a=await Promise.all(s.pda.seeds.map(d=>this.toBuffer(d,e)));if(a.some(d=>!d))continue;const _=await this.parseProgramId(s,e),[l]=Y.findProgramAddressSync(a,_);this.set([...e,o],l)}}catch{}try{if(s.relations){const a=this.get([...e,s.relations[0]]);if(a){const _=await this._accountStore.fetchAccount({publicKey:a});this.set([...e,o],_[o])}}}catch{}}}}return n}async parseProgramId(t,e=[]){var n;if(!(!((n=t.pda)===null||n===void 0)&&n.program))return this._programId;const i=await this.toBuffer(t.pda.program,e);if(!i)throw new Error(`Program seed not resolved: ${t.name}`);return new Y(i)}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[e,...n]=t.path.split("."),i=this._idlIx.args.findIndex(a=>a.name===e);if(i===-1)throw new Error(`Unable to find argument for seed: ${e}`);const o=n.reduce((a,_)=>(a??{})[_],this._args[i]);if(o===void 0)return;const s=this.getType(this._idlIx.args[i].type,n);return this.toBufferValue(s,o)}async toBufferAccount(t,e=[]){const[n,...i]=t.path.split("."),o=this.get([...e,n]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let a=await this._accountStore.fetchAccount({publicKey:o,name:t.account}),_=i;for(;_.length>0;)a=a[_[0]],_=_.slice(1);if(a===void 0)return;const l=this.getType({defined:{name:t.account}},i);return this.toBufferValue(l,a)}toBufferValue(t,e){switch(t){case"u8":case"i8":return j.from([e]);case"u16":case"i16":return new Z(e).toArrayLike(j,"le",2);case"u32":case"i32":return new Z(e).toArrayLike(j,"le",4);case"u64":case"i64":return new Z(e).toArrayLike(j,"le",8);case"u128":case"i128":return new Z(e).toArrayLike(j,"le",16);case"u256":case"i256":return new Z(e).toArrayLike(j,"le",32);case"string":return j.from(e);case"pubkey":return e.toBuffer();case"bytes":return j.from(e);default:if(t!=null&&t.array)return j.from(e);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,e=[]){var n;const i=(n=t==null?void 0:t.defined)===null||n===void 0?void 0:n.name;if(i){if(i==="tokenAccount")switch(e.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${e}`)}const o=this._idlTypes.find(d=>d.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[s,...a]=e,l=o.type.fields.find(d=>d.name===s);if(!l)throw new Error(`Field not found: ${s}`);return this.getType(l.type,a)}return t}}class ec{constructor(t,e,n){this._provider=t,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async fetchAccount({publicKey:t,name:e}){const n=t.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(t);if(i===null)throw new Error(`Account not found: ${n}`);if(e==="tokenAccount"){const o=Qs(i.data);this._cache.set(n,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const s=Object.values(o)[0];if(s){const a=s.coder.accounts.decodeAny(i.data);this._cache.set(n,a)}}}}return this._cache.get(n)}async getAccountsNs(t){const e=t.toBase58();if(!this._idls[e]){const n=await ke.fetchIdl(t,this._provider);if(n){const i=new ke(n,this._provider);this._idls[e]=i.account}}return this._idls[e]}}class tc{static build(t,e,n,i,o,s,a,_,l,d,A){return(...E)=>new nc(E,i,o,s,a,_,t,e,n,l,d,A)}}function eo(r){return typeof r=="object"&&r!==null&&!("_bn"in r)}function to(r,t){const e={};for(const n in r){const i=r[n];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");e[n]=eo(i)?to(i):oe(i)}return e}class nc{constructor(t,e,n,i,o,s,a,_,l,d,A,E){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=i,this._simulateFn=o,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new Js(t,this._accounts,a,_,l,d,A,E)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,e=!1){return e?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class rc{static build(t,e,n,i){const o=e.accounts.find(_=>_.writable),s=!!e.returns;return o||!s?void 0:async(..._)=>{let l=await n(..._);const d=`Program return: ${t} `;let A=l.raw.find(O=>O.startsWith(d));if(!A)throw new Error("View expected return log");let E=fr(A.slice(d.length)),p=e.returns;if(!p)throw new Error("View expected return type");return $.fieldLayout({type:p},i.types).decode(E)}}}class ic{static build(t,e,n,i,o){const s={},a={},_={},l={},d={},A={},E=ns(t),p=t.accounts?js.build(t,e,n,i):{};return t.instructions.forEach(y=>{const O=ut.build(y,(F,D)=>e.instruction.encode(F,D),n),v=Fs.build(y,O),N=Ks.build(y,v,E,i),M=Ws.build(y,v,E,i,e,n,t),L=rc.build(n,y,M,t),T=tc.build(i,n,y,O,v,N,M,L,p,t.types||[],o==null?void 0:o(y)),H=y.name;a[H]=O,_[H]=v,s[H]=N,l[H]=M,d[H]=T,L&&(A[H]=L)}),[s,a,_,p,l,d,A]}}class ke{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e=Mt(),n,i){this._idl=ts(t),this._rawIdl=t,this._provider=e,this._programId=oe(t.address),this._coder=n??new zi(this._idl),this._events=new Vs(this._programId,e,this._coder);const[o,s,a,_,l,d,A]=ic.build(this._idl,this._coder,this._programId,e,i);this.rpc=o,this.instruction=s,this.transaction=a,this.account=_,this.simulate=l,this.methods=d,this.views=A}static async at(t,e){const n=oe(t),i=await ke.fetchIdl(n,e);if(!i)throw new Error(`IDL not found for program: ${t.toString()}`);return new ke(i,e)}static async fetchIdl(t,e){e=e??Mt();const n=oe(t),i=await Za(n),o=await e.connection.getAccountInfo(i);if(!o)return null;let s=es(o.data.slice(8));const a=Xa(s.data);return JSON.parse(Ya(a))}addEventListener(t,e,n){return this._events.addEventListener(t,e,n)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new Y("11111111111111111111111111111111");var nt={},he={},zn;function oc(){if(zn)return he;zn=1;var r={},t;Object.defineProperty(he,"__esModule",{value:!0}),he.isVersionedTransaction=he.isBrowser=void 0,he.chunks=e,he.isBrowser=r.ANCHOR_BROWSER||typeof window<"u"&&!(!((t=window.process)===null||t===void 0)&&t.hasOwnProperty("type"));function e(i,o){return Array.apply(0,new Array(Math.ceil(i.length/o))).map((s,a)=>i.slice(a*o,(a+1)*o))}const n=i=>"version"in i;return he.isVersionedTransaction=n,he}var It={exports:{}},qn;function ac(){if(qn)return It.exports;qn=1;var r=It.exports={},t,e;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?e=clearTimeout:e=i}catch{e=i}})();function o(O){if(t===setTimeout)return setTimeout(O,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(O,0);try{return t(O,0)}catch{try{return t.call(null,O,0)}catch{return t.call(this,O,0)}}}function s(O){if(e===clearTimeout)return clearTimeout(O);if((e===i||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(O);try{return e(O)}catch{try{return e.call(null,O)}catch{return e.call(this,O)}}}var a=[],_=!1,l,d=-1;function A(){!_||!l||(_=!1,l.length?a=l.concat(a):d=-1,a.length&&E())}function E(){if(!_){var O=o(A);_=!0;for(var v=a.length;v;){for(l=a,a=[];++d<v;)l&&l[d].run();d=-1,v=a.length}l=null,_=!1,s(O)}}r.nextTick=function(O){var v=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)v[N-1]=arguments[N];a.push(new p(O,v)),a.length===1&&!_&&o(E)};function p(O,v){this.fun=O,this.array=v}p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function y(){}return r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(O){return[]},r.binding=function(O){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(O){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},It.exports}var Fn;function sc(){if(Fn)return nt;Fn=1,Object.defineProperty(nt,"__esModule",{value:!0});const r=go(),t=Wn,e=oc();class n{constructor(o){this.payer=o}static local(){const o=ac();if(!o.env.ANCHOR_WALLET||o.env.ANCHOR_WALLET==="")throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");const s=t.Keypair.fromSecretKey(r.Buffer.from(JSON.parse(yo.readFileSync(o.env.ANCHOR_WALLET,{encoding:"utf-8"}))));return new n(s)}async signTransaction(o){return(0,e.isVersionedTransaction)(o)?o.sign([this.payer]):o.partialSign(this.payer),o}async signAllTransactions(o){return o.map(s=>((0,e.isVersionedTransaction)(s)?s.sign([this.payer]):s.partialSign(this.payer),s))}get publicKey(){return this.payer.publicKey}}return nt.default=n,nt}sc();const cc="vtYo2ayiQJ53h2ePxK4kHNCbi8uspXhp1GyYu78mmbr",uc={name:"ico_launchpad",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},lc=JSON.parse('[{"name":"buy_token","docs":["Purchase ico token by paying cost token"],"discriminator":[138,127,14,91,38,87,115,105],"accounts":[{"name":"buyer","writable":true,"signer":true},{"name":"global_pool","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}},{"name":"ico_pot","writable":true,"pda":{"seeds":[{"kind":"const","value":[105,99,111,45,112,111,116]},{"kind":"arg","path":"seed"}]}},{"name":"ico_mint","relations":["ico_pot"]},{"name":"cost_mint","relations":["ico_pot"]},{"name":"user_purchase","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,45,112,117,114,99,104,97,115,101]},{"kind":"account","path":"ico_pot"},{"kind":"account","path":"ico_pot.purchase_seq_num","account":"IcoState"}]}},{"name":"buyer_ico_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"buyer"},{"kind":"account","path":"ico_token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"ico_token_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"ico_token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"buyer_cost_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"buyer"},{"kind":"account","path":"cost_token_program"},{"kind":"account","path":"cost_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"cost_escrow_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"cost_token_program"},{"kind":"account","path":"cost_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"ico_token_program"},{"name":"cost_token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"seed","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"change_config","docs":["Admin can change global config"],"discriminator":[24,158,114,115,94,210,244,233],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_pool"]},{"name":"global_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}}],"args":[{"name":"paused","type":"u8"}]},{"name":"claim","docs":["Claim unlocked token as buyer"],"discriminator":[62,198,214,193,213,159,108,210],"accounts":[{"name":"buyer","writable":true,"signer":true},{"name":"global_pool","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}},{"name":"ico_pot","pda":{"seeds":[{"kind":"const","value":[105,99,111,45,112,111,116]},{"kind":"arg","path":"ico_seed"}]}},{"name":"ico_mint","relations":["ico_pot"]},{"name":"user_purchase","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,45,112,117,114,99,104,97,115,101]},{"kind":"account","path":"ico_pot"},{"kind":"arg","path":"purchase_seed"}]}},{"name":"buyer_ico_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"buyer"},{"kind":"account","path":"token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"ico_token_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"ico_seed","type":"u64"},{"name":"purchase_seed","type":"u64"}]},{"name":"close_ico","docs":["Close ICO pot with owner authority"],"discriminator":[236,192,28,5,41,203,104,223],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}},{"name":"ico_pot","writable":true,"pda":{"seeds":[{"kind":"const","value":[105,99,111,45,112,111,116]},{"kind":"arg","path":"seed"}]}},{"name":"ico_mint","relations":["ico_pot"]},{"name":"authority_ico_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"authority"},{"kind":"account","path":"token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"ico_token_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"seed","type":"u64"}]},{"name":"create_ico","docs":["Create ICO pot"],"discriminator":[12,83,125,16,133,67,173,93],"accounts":[{"name":"creator","writable":true,"signer":true},{"name":"global_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}},{"name":"ico_pot","writable":true,"pda":{"seeds":[{"kind":"const","value":[105,99,111,45,112,111,116]},{"kind":"account","path":"global_pool.ico_seq_num","account":"GlobalPool"}]}},{"name":"ico_mint"},{"name":"cost_mint"},{"name":"creator_ico_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"creator"},{"kind":"account","path":"ico_token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"ico_token_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"ico_token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"cost_escrow_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"cost_token_program"},{"kind":"account","path":"cost_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"ico_token_program"},{"name":"cost_token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"CreateIcoParams"}}}]},{"name":"initialize","docs":["* Initialize global pool"],"discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"admin","writable":true,"signer":true},{"name":"global_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"rescue_token","docs":["Force withdraw all tokens from Ico pot as admin"],"discriminator":[227,248,168,149,165,80,20,89],"accounts":[{"name":"admin","writable":true,"signer":true},{"name":"global_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}},{"name":"ico_pot","writable":true,"pda":{"seeds":[{"kind":"const","value":[105,99,111,45,112,111,116]},{"kind":"arg","path":"seed"}]}},{"name":"ico_mint","relations":["ico_pot"]},{"name":"admin_ico_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"admin"},{"kind":"account","path":"token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"ico_token_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"token_program"},{"kind":"account","path":"ico_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"seed","type":"u64"}]},{"name":"transfer_admin","docs":["Admin can transfer admin authority"],"discriminator":[42,242,66,106,228,10,111,156],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_pool"]},{"name":"global_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,97,117,116,104,111,114,105,116,121]}]}}],"args":[{"name":"new_admin","type":"pubkey"}]},{"name":"withdraw_cost","docs":["Withdraw cost token collection as owner"],"discriminator":[24,29,195,242,103,79,189,71],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"ico_pot","pda":{"seeds":[{"kind":"const","value":[105,99,111,45,112,111,116]},{"kind":"arg","path":"seed"}]}},{"name":"cost_mint","relations":["ico_pot"]},{"name":"authority_ico_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"authority"},{"kind":"account","path":"token_program"},{"kind":"account","path":"cost_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"cost_escrow_vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"ico_pot"},{"kind":"account","path":"token_program"},{"kind":"account","path":"cost_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"seed","type":"u64"}]}]'),dc=[{name:"GlobalPool",discriminator:[162,244,124,37,148,94,28,50]},{name:"IcoState",discriminator:[219,70,204,53,128,154,51,108]},{name:"UserPurchase",discriminator:[23,17,96,83,125,230,223,233]}],hc=[{code:6e3,name:"InvalidAdmin",msg:"Admin address dismatch"},{code:6001,name:"IsPaused",msg:"Admin paused whole launchpad"},{code:6002,name:"InvalidDateConfig",msg:"ICO date configs should be future time"},{code:6003,name:"InsufficientTokenBalance",msg:"Token account balance insufficient"},{code:6004,name:"InvalidPercentageValue",msg:"Percentage value should less than 10000 = 100%"},{code:6005,name:"InvalidIcoOwner",msg:"ICO owner does not match with passed address"},{code:6006,name:"NoAvailableTokens",msg:"All ICO tokens sold out"},{code:6007,name:"PotIsClosed",msg:"ICO is closed by owner or admin"},{code:6008,name:"AlreadyClosed",msg:"ICO is closed already"},{code:6009,name:"IncorrectIcoAddress",msg:"User purchase ICO pot address not matched with passed account"},{code:6010,name:"InvalidSalePeriod",msg:"ICO not started or already ended"},{code:6011,name:"InvalidAmountConfig",msg:"ICO amount and reserve should not zero"}],fc=[{name:"CreateIcoParams",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"start_price",type:"u64"},{name:"end_price",type:"u64"},{name:"start_date",type:"i64"},{name:"end_date",type:"i64"},{name:"bonus_reserve",type:"u64"},{name:"bonus_percentage",type:"u16"},{name:"bonus_activator",type:"u16"},{name:"unlock_percentage",type:"u16"},{name:"cliff_period",type:"i64"},{name:"vesting_percentage",type:"u16"},{name:"vesting_interval",type:"i64"}]}},{name:"GlobalPool",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"total_ico_count",type:"u64"},{name:"ico_seq_num",type:"u64"},{name:"is_paused",type:"u8"},{name:"extra",type:"u128"}]}},{name:"IcoState",type:{kind:"struct",fields:[{name:"seed",type:"u64"},{name:"owner",type:"pubkey"},{name:"ico_mint",type:"pubkey"},{name:"ico_decimals",type:"u64"},{name:"amount",type:"u64"},{name:"cost_mint",type:"pubkey"},{name:"start_price",type:"u64"},{name:"end_price",type:"u64"},{name:"start_date",type:"i64"},{name:"end_date",type:"i64"},{name:"bonus_reserve",type:"u64"},{name:"bonus_percentage",type:"u16"},{name:"bonus_activator",type:"u16"},{name:"is_closed",type:"u8"},{name:"total_sold",type:"u64"},{name:"total_received",type:"u64"},{name:"unlock_percentage",type:"u16"},{name:"cliff_period",type:"i64"},{name:"vesting_percentage",type:"u16"},{name:"vesting_interval",type:"i64"},{name:"purchase_seq_num",type:"u64"},{name:"extra",type:"u128"}]}},{name:"UserPurchase",type:{kind:"struct",fields:[{name:"seed",type:"u64"},{name:"buyer",type:"pubkey"},{name:"ico",type:"pubkey"},{name:"buy_amount",type:"u64"},{name:"buy_date",type:"i64"},{name:"bonus",type:"u64"},{name:"locked_amount",type:"u64"},{name:"total_claimed",type:"u64"},{name:"extra",type:"u128"}]}}],_c={address:cc,metadata:uc,instructions:lc,accounts:dc,errors:hc,types:fc},pc=128+8*5+4+4+8+8+4+8+4+8+8+16,Rc=80+8*5+16,xe=new Y("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Gt=new Y("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new Y("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Y("So11111111111111111111111111111111111111112");new Y("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const mc=async(r,t,e,n,i=xe,o=xe)=>{const{data:s}=await je(t,n);console.log("ico seed",s.seed);const a=new $t,_=await n.methods.buyToken(new Z(s.seed),new Z(e)).accounts({buyer:r,icoPot:t,icoTokenProgram:i,costTokenProgram:o}).transaction();return a.add(_),a},Ec=async(r,t,e,n,i=xe)=>{const o=await je(t,n);console.log("ico seed",o.data.seed);const s=await no(e,n);console.log("user purchase seed",s.data.seed);const a=new $t,_=await n.methods.claim(new Z(o.data.seed),new Z(s.data.seed)).accounts({buyer:r,icoPot:t,userPurchase:e,tokenProgram:i}).transaction();return a.add(_),a},je=async(r,t)=>{try{let e=await t.account.icoState.fetch(r);return{key:r,data:e}}catch(e){throw console.error(e),e}},gc=async({owner:r,icoMint:t,costMint:e},n)=>{let i=[{dataSize:pc}];return r&&i.push({memcmp:{offset:16,bytes:r.toBase58()}}),t&&i.push({memcmp:{offset:48,bytes:t.toBase58()}}),e&&i.push({memcmp:{offset:96,bytes:e.toBase58()}}),(await n.provider.connection.getProgramAccounts(n.programId,{filters:i,encoding:"base64"})).map(s=>{let a=n.coder.accounts.decode("icoState",s.account.data);return a.seed=a.seed.toNumber(),a.owner=a.owner.toBase58(),a.icoMint=a.icoMint.toBase58(),a.icoDecimals=a.icoDecimals.toNumber(),a.amount=a.amount.toNumber(),a.costMint=a.costMint.toBase58(),a.startPrice=a.startPrice.toNumber(),a.endPrice=a.endPrice,a.startDate=a.startDate,a.endDate=a.endDate.toNumber(),a.bonusReserve=a.bonusReserve.toNumber(),a.bonusPercentage=a.bonusPercentage,a.bonusActivator=a.bonusActivator,a.isClosed=a.isClosed,a.totalSold=a.totalSold.toNumber(),a.totalReceived=a.totalReceived.toNumber(),a.unlockPercentage=a.unlockPercentage,a.cliffPeriod=a.cliffPeriod.toNumber(),a.vestingPercentage=a.vestingPercentage,a.vestingInterval=a.vestingInterval.toNumber(),a.purchaseSeqNum=a.purchaseSeqNum.toNumber(),{key:s.pubkey.toBase58(),data:a}})},no=async(r,t)=>{try{let e=await t.account.userPurchase.fetch(r);return{key:r,data:e}}catch(e){return console.error(e),{key:r,data:null}}},yc=async({buyer:r,ico:t},e)=>{let n=[{dataSize:Rc}];return r&&n.push({memcmp:{offset:16,bytes:r.toBase58()}}),t&&n.push({memcmp:{offset:48,bytes:t.toBase58()}}),(await e.provider.connection.getProgramAccounts(e.programId,{filters:n,encoding:"base64"})).map(o=>{let s=e.coder.accounts.decode("userPurchase",o.account.data);return s.seed=s.seed.toNumber(),s.buyer=s.buyer.toBase58(),s.ico=s.ico.toBase58(),s.buyAmount=s.buyAmount.toNumber(),s.buyDate=s.buyDate.toNumber(),s.bonus=s.bonus.toNumber(),s.lockedAmount=s.lockedAmount.toNumber(),s.totalClaimed=s.totalClaimed.toNumber(),{key:o.pubkey.toBase58(),data:s}})},wc=(r,t)=>{if(r.lockedAmount.toNumber()==0)return new Z(0);let e=r.buyDate.toNumber()+t.cliffPeriod.toNumber(),n=Math.floor(Date.now()/1e3);if(e>n)return new Z(0);let i=Math.floor((n-e)/t.vestingInterval.toNumber())+1,o=r.lockedAmount.mul(new Z(i)).mul(new Z(t.vestingPercentage)).div(new Z(1e4));return o.gt(r.lockedAmount)&&(o=r.lockedAmount),o.sub(r.totalClaimed)},Ac=(r,t)=>{let e=r.amount.sub(r.totalSold);if(t.lt(e)&&(e=t),r.endPrice.eq(new Z(0))){let n=e.mul(r.startPrice).div(r.icoDecimals);return{availableAmount:e,value:n}}else{let n=r.endPrice.sub(r.startPrice).mul(r.totalSold).div(r.amount).add(r.startPrice),i=r.endPrice.sub(r.startPrice).mul(r.totalSold.add(e)).div(r.amount).add(r.startPrice),o=e.mul(n.add(i)).div(r.icoDecimals.mul(new Z(2)));return{availableAmount:e,value:o}}};let Ct=null,se=null,Ae=null,lt=null;const Oc=async(r,t,e)=>{Ct=new wo(Ao(r)),Ae=new Se(Ct,t,{skipPreflight:!1,commitment:"confirmed"}),Bn(Ae),lt=t,Ae=new Se(Ct,t,{skipPreflight:!1,commitment:"confirmed"}),Bn(Ae),lt=t,console.log("Wallet Address: ",t.publicKey.toBase58()),se=new ke(_c,Ae),console.log("ProgramId: ",se.programId.toBase58())},Nc=async(r,t,e=!1,n=!1)=>{const i=await mc(lt.publicKey,r,t,se,e?Gt:xe,n?Gt:xe),o=await Ae.sendAndConfirm(i,[],{commitment:"confirmed"});console.log("txHash: ",o)},Tc=async(r,t,e=!1)=>{const n=await Ec(lt.publicKey,r,t,se,e?Gt:xe),i=await Ae.sendAndConfirm(n,[],{commitment:"confirmed"});console.log("txHash: ",i)},vc=async r=>{const{data:t,key:e}=await je(r,se);return console.log("ico pot: ",e.toBase58()),{seed:t.seed.toNumber(),owner:t.owner.toBase58(),icoMint:t.icoMint.toBase58(),icoDecimals:t.icoDecimals.toNumber(),amount:t.amount.toNumber(),costMint:t.costMint.toBase58(),startPrice:t.startPrice,endPrice:t.endPrice,startDate:t.startDate.toNumber(),endDate:t.endDate.toNumber(),bonusReserve:t.bonusReserve.toNumber(),bonusPercentage:t.bonusPercentage,bonusActivator:t.bonusActivator,isClosed:t.isClosed,totalSold:t.totalSold.toNumber(),totalReceived:t.totalReceived.toNumber(),unlockPercentage:t.unlockPercentage,cliffPeriod:t.cliffPeriod.toNumber(),vestingPercentage:t.vestingPercentage,vestingInterval:t.vestingInterval.toNumber(),purchaseSeqNum:t.purchaseSeqNum.toNumber()}},bc=async(r,t)=>{const{data:e,key:n}=await je(r,se);console.log("ico pot: ",n.toBase58());const{availableAmount:i,value:o}=Ac(e,new Z(t));return{availableAmount:i.toNumber(),value:o.toNumber()}},Ic=async({owner:r,icoMint:t,costMint:e})=>await gc({owner:r,icoMint:t,costMint:e},se),Cc=async r=>{const{data:t,key:e}=await no(r,se);console.log("user purchase: ",e.toBase58());const n=(await je(t.ico,se)).data;return console.log("ico pot: ",t.ico.toBase58()),{seed:t.seed.toNumber(),buyer:t.buyer.toBase58(),ico:t.ico.toBase58(),buyAmount:t.buyAmount.toNumber(),buyDate:t.buyDate.toNumber(),bonus:t.bonus.toNumber(),lockedAmount:t.lockedAmount.toNumber(),totalClaimed:t.totalClaimed.toNumber(),unlockedAmount:wc(t,n).toNumber()}},Sc=async({buyer:r,ico:t})=>await yc({buyer:r,ico:t},se);class Bc{static async setConnection(){const t=Oo();if(!t.value)throw new Error("not defined: publicKey");await Oc(void 0,t.value)}static async getAllIco(t){try{return await this.setConnection(),await Ic({owner:t==null?void 0:t.owner,icoMint:t==null?void 0:t.icoMint,costMint:t==null?void 0:t.costMint})}catch(e){throw ge.error("ico failed",e),e}}static async buyToken({icoPot:t,amountWithDecimals:e,isIco2022:n,isCost2022:i}){const{publicKey:o}=Pe();if(!o.value)throw new Error("not defined: publicKey");await this.setConnection();try{return await Nc(t,String(e),n??!1,i??!1)}catch(s){throw ge.error("ico failed",s),s}}static async claimTokens({icoPot:t,userPurchase:e,isIco2022:n}){const{publicKey:i}=Pe();if(!i.value)throw new Error("not defined: publicKey");try{return await this.setConnection(),await Tc(t,e,n??!1)}catch(o){throw ge.error("ico failed",o),o}}static async getIcoInfo({icoPot:t}){try{return await this.setConnection(),await vc(t)}catch(e){throw ge.error("ico failed",e),e}}static async getAllPurchases({buyer:t,ico:e}){const{publicKey:n}=Pe();if(!n.value)throw new Error("not defined: publicKey");try{return await this.setConnection(),await Sc({buyer:t,ico:e})}catch(i){throw ge.error("ico failed",i),i}}static async getUserPurchaseInfo({userPurchase:t}){const{publicKey:e}=Pe();if(!e.value)throw new Error("not defined: publicKey");try{return await this.setConnection(),await Cc(t)}catch(n){throw ge.error("ico failed",n),n}}static async getPurchaseAmount({icoPot:t,amount:e}){const{publicKey:n}=Pe();if(!n.value)throw new Error("not defined: publicKey");try{return await this.setConnection(),await bc(t,String(e))}catch(i){throw ge.error("ico failed",i),i}}}const Kn=new Map([["So11111111111111111111111111111111111111112","wSOL"],["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","USDC"]]),Gc=r=>Kn.has(r)?Kn.get(r):r.slice(0,8)+"..."+r.slice(-4),Vc=[{key:"7EJazPSeYuJg3z7gvfY8zhKDcBY6RYkgk1KmGJ4uPf15",name:"Launchpad 1",projectLogo:"https://cryptologos.cc/logos/dogecoin-doge-logo.png",links:{web:{name:"Website",url:"https://google.com"},x:{name:"X",url:"https://x.com/FushumaChain/"},telegram:{name:"Instagram",url:"https://instagram.com/https://t.me/FushumaChain"}},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{key:"7EZEpz2aWVYh3X4tgGiBnM7xxY2gmHzbTpiyJeuyYvE6",name:"Defined in JSON",projectLogo:"https://cryptologos.cc/logos/solana-sol-logo.png",links:{web:{name:"Website",url:"https://google.com"},x:{name:"X",url:"https://x.com/FushumaChain/"},telegram:{name:"Instagram",url:"https://instagram.com/https://t.me/FushumaChain"}},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{key:"3Ji7fXgUGrQxzRkAUT1VaC2gkKVT56WWHRZcTzaMbq7F",name:"Launchpad 2",projectLogo:"https://cryptologos.cc/logos/ethereum-eth-logo.png",links:{web:{name:"Website",url:"https://google.com"},x:{name:"X",url:"https://x.com/FushumaChain/"},telegram:{name:"Instagram",url:"https://instagram.com/https://t.me/FushumaChain"}},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}];export{So as I,Bc as S,Dc as _,Mc as a,Pc as b,Gc as c,Lc as d,Uc as f,Hc as g,Vc as l};
